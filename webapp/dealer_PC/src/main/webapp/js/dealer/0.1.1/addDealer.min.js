'use strict';

/**
 * Created by yulong.zhang on 2016/12/6.
 */

// 引入http message validate
var validate = _require('validate');
var message = _require('message');
var http = _require('http');
// 定义变量
var submit = document.getElementById('submit');
var mobile = document.getElementById('mobile');
var name = document.getElementById('name');
var belongArea = document.getElementById('belongArea');
var bankAccountName = document.getElementById('bankAccountName');
var bankCard = document.getElementById('bankCard');
var bankReserveMobile = document.getElementById('bankReserveMobile');
var weixinSettleRate = document.getElementById('weixinSettleRate');
var alipaySettleRate = document.getElementById('alipaySettleRate');
var quickSettleRate = document.getElementById('quickSettleRate');
var withdrawSettleFee = document.getElementById('withdrawSettleFee');
submit.addEventListener('click', function () {
  if (validate.joint({
    phone: [mobile.value, bankReserveMobile.value],
    bankNo: bankCard.value
  }) && validate.name(name.value, '代理商姓名') && validate.address(belongArea.value, '代理商所在地') && validate.name(bankAccountName.value, '银行开户名') && validate.empty(alipaySettleRate.value, '支付宝结算费率') && validate.empty(weixinSettleRate.value, '微信结算费率') && validate.empty(quickSettleRate.value, '无卡快捷结算费率') && validate.empty(withdrawSettleFee.value, '提现结算价')) {
    http.post('/dealer/addSecondDealer', {
      mobile: mobile.value, name: name.value, belongArea: belongArea.value,
      bankAccountName: bankAccountName.value, bankCard: bankCard.value,
      bankReserveMobile: bankReserveMobile.value, weixinSettleRate: weixinSettleRate.value,
      alipaySettleRate: alipaySettleRate.value, quickSettleRate: quickSettleRate.value,
      withdrawSettleFee: withdrawSettleFee.value
    }, function () {
      window.location.href = "/dealer/indexInfo";
    });
  }
});
//# sourceMappingURL=addDealer.min.js.map
