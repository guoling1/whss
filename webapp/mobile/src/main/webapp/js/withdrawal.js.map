{"version":3,"sources":["withdrawal.js"],"names":["Animation","_require","animation","validate","message","http","next","document","getElementById","layer","xx","submit","sendCode","code","pageData","bookValue","setAttribute","sendcode","url","btn","addEventListener","style","display","click","value","load_show","post","load_hide","toast_show","setTimeout","window","location","replace"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,YAAYC,SAAS,WAAT,CAAlB;AACA,IAAMC,YAAY,IAAIF,SAAJ,EAAlB;AACA;AACA,IAAMG,WAAWF,SAAS,UAAT,CAAjB;AACA,IAAMG,UAAUH,SAAS,SAAT,CAAhB;AACA,IAAMI,OAAOJ,SAAS,MAAT,CAAb;AACA;AACA,IAAMK,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAMC,QAAQF,SAASC,cAAT,CAAwB,OAAxB,CAAd;AACA,IAAME,KAAKH,SAASC,cAAT,CAAwB,IAAxB,CAAX;AACA,IAAMG,SAASJ,SAASC,cAAT,CAAwB,QAAxB,CAAf;AACA,IAAMI,WAAWL,SAASC,cAAT,CAAwB,UAAxB,CAAjB;AACA,IAAMK,OAAON,SAASC,cAAT,CAAwB,MAAxB,CAAb;;AAEA;AACA,IAAIM,SAASC,SAAT,IAAsB,CAA1B,EAA6B;AAC3BT,OAAKU,YAAL,CAAkB,UAAlB,EAA8B,MAA9B;AACD;;AAED;AACAd,UAAUe,QAAV,CAAmB;AACjBC,OAAK,qBADY;AAEjBC,OAAK;AAFY,CAAnB;;AAKAb,KAAKc,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACzCX,QAAMY,KAAN,CAAYC,OAAZ,GAAsB,OAAtB;AACAV,WAASW,KAAT;AACD,CAHD;;AAKAb,GAAGU,gBAAH,CAAoB,OAApB,EAA6B,YAAY;AACvCX,QAAMY,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACD,CAFD;;AAIAX,OAAOS,gBAAP,CAAwB,OAAxB,EAAiC,YAAY;AAC3C,MAAIjB,SAASU,IAAT,CAAcA,KAAKW,KAAnB,CAAJ,EAA+B;AAC7BpB,YAAQqB,SAAR,CAAkB,MAAlB;AACApB,SAAKqB,IAAL,CAAU,cAAV,EAA0B;AACxBb,YAAMA,KAAKW;AADa,KAA1B,EAEG,YAAY;AACbpB,cAAQuB,SAAR;AACAvB,cAAQwB,UAAR,CAAmB,MAAnB;AACAC,iBAAW,YAAY;AACrBC,eAAOC,QAAP,CAAgBC,OAAhB,CAAwB,aAAxB;AACD,OAFD,EAEG,IAFH;AAGD,KARD;AASD;AACF,CAbD","file":"withdrawal.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入动画模版 处理验证码\nconst Animation = _require('animation');\nconst animation = new Animation();\n// 引入http validate message\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n// 定义变量\nconst next = document.getElementById('next');\nconst layer = document.getElementById('layer');\nconst xx = document.getElementById('xx');\nconst submit = document.getElementById('submit');\nconst sendCode = document.getElementById('sendCode');\nconst code = document.getElementById('code');\n\n// 判断按钮是否可以点击\nif (pageData.bookValue == 0) {\n  next.setAttribute('disabled', 'true');\n}\n\n// 定义验证码\nanimation.sendcode({\n  url: '/wx/getWithDrawCode',\n  btn: 'sendCode'\n});\n\nnext.addEventListener('click', function () {\n  layer.style.display = 'block';\n  sendCode.click();\n});\n\nxx.addEventListener('click', function () {\n  layer.style.display = 'none';\n});\n\nsubmit.addEventListener('click', function () {\n  if (validate.code(code.value)) {\n    message.load_show('正在校验');\n    http.post('/wx/withdraw', {\n      code: code.value\n    }, function () {\n      message.load_hide();\n      message.toast_show('提现成功');\n      setTimeout(function () {\n        window.location.replace('/sqb/wallet');\n      }, 1000);\n    })\n  }\n});"]}