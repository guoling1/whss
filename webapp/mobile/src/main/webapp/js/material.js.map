{"version":3,"sources":["material.js"],"names":["Animation","_require","animation","validate","message","http","browser","elastic_touch","Upload","merchantName","document","getElementById","address","bankNo","sampleShow","sampleHide","username","identity","reserveMobile","code","submit","bankText","upload_bank","innerHTML","fourelement","url","bankName","bankVal","nameName","nameVal","identityName","identityVal","phoneName","phoneVal","btn","addEventListener","style","display","value","bankPic","getServerId","name","joint","idCard","phone","empty","post","window","location","replace"],"mappings":"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","file":"material.js","sourcesContent":["/**\n * Created by administrator on 2016/12/9.\n */\n\n// 引入动画模版 处理验证码\nconst Animation = _require('animation');\nconst animation = new Animation();\n// 引入http message validate\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n// 引入wx_upload\nconst Upload = _require('upload');\n// 定义变量\nconst merchantName = document.getElementById('merchantName');\nconst address = document.getElementById('address');\nconst bankNo = document.getElementById('bankNo');\nconst sampleShow = document.getElementById('sampleShow');\nconst sampleHide = document.getElementById('sampleHide');\nconst username = document.getElementById('username');\nconst identity = document.getElementById('identity');\nconst reserveMobile = document.getElementById('reserveMobile');\nconst code = document.getElementById('code');\nconst submit = document.getElementById('submit');\nconst bankText = document.getElementById('bankText');\n\nlet upload_bank = new Upload('chooseImage', function () {\n  bankText.innerHTML = '图片已上传';\n});\n\n// 定义验证码\nanimation.fourelement({\n  url: '/merchantInfo/sendVerifyCode',\n  bankName: 'bankNo',\n  bankVal: 'bankNo',\n  nameName: 'name',\n  nameVal: 'username',\n  identityName: 'identity',\n  identityVal: 'identity',\n  phoneName: 'reserveMobile',\n  phoneVal: 'reserveMobile',\n  btn: 'sendCode'\n});\n\nsampleShow.addEventListener('click', function () {\n  sampleHide.style.display = 'block';\n});\n\nsampleHide.addEventListener('click', function () {\n  sampleHide.style.display = 'none';\n});\n\nbankNo.addEventListener('blur', function () {\n  validate.bankNo(bankNo.value);\n});\n\nsubmit.addEventListener('click', function () {\n  let bankPic = upload_bank.getServerId();\n  if (validate.name(merchantName.value, '店铺名称') &&\n    validate.address(address.value, '店铺地址') &&\n    validate.joint({\n      bankNo: bankNo.value,\n      idCard: identity.value,\n      phone: reserveMobile.value,\n      code: code.value\n    }) && validate.empty(bankPic, '银行卡图片')\n    && validate.name(username.value, '开户姓名')) {\n    http.post('/merchantInfo/save', {\n      merchantName: merchantName.value,\n      address: address.value,\n      bankNo: bankNo.value,\n      name: username.value,\n      identity: identity.value,\n      reserveMobile: reserveMobile.value,\n      code: code.value,\n      bankPic: bankPic\n    }, function () {\n      window.location.replace(\"/sqb/addNext\");\n    })\n  }\n});"]}