{"version":3,"sources":["upload.js"],"names":["validate","_require","message","http","browser","elastic_touch","Upload","submit","document","getElementById","identityFacePic_src","identityOppositePic_src","identityHandPic_src","bankHandPic_src","upload_identityFacePic","localId","setAttribute","upload_identityOppositePic","upload_identityHandPic","upload_bankHandPic","addEventListener","identityFacePic","getServerId","identityOppositePic","identityHandPic","bankHandPic","empty","post","window","location","href"],"mappings":";;AAAA;;;;AAKA;AACA,IAAMA,WAAWC,SAAS,UAAT,CAAjB;AACA,IAAMC,UAAUD,SAAS,SAAT,CAAhB;AACA,IAAME,OAAOF,SAAS,MAAT,CAAb;AACA;AACA,IAAMG,UAAUH,SAAS,SAAT,CAAhB;AACAG,QAAQC,aAAR,CAAsB,QAAtB;AACA;AACA,IAAMC,SAASL,SAAS,QAAT,CAAf;AACA;AACA,IAAIM,SAASC,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAIC,sBAAsBF,SAASC,cAAT,CAAwB,qBAAxB,CAA1B;AACA,IAAIE,0BAA0BH,SAASC,cAAT,CAAwB,yBAAxB,CAA9B;AACA,IAAIG,sBAAsBJ,SAASC,cAAT,CAAwB,qBAAxB,CAA1B;AACA,IAAII,kBAAkBL,SAASC,cAAT,CAAwB,iBAAxB,CAAtB;;AAEA,IAAIK,yBAAyB,IAAIR,MAAJ,CAAW,iBAAX,EAA8B,UAAUS,OAAV,EAAmB;AAC5EP,WAASC,cAAT,CAAwB,qBAAxB,EAA+CO,YAA/C,CAA4D,KAA5D,EAAmED,OAAnE;AACD,CAF4B,CAA7B;;AAIA,IAAIE,6BAA6B,IAAIX,MAAJ,CAAW,qBAAX,EAAkC,UAAUS,OAAV,EAAmB;AACpFP,WAASC,cAAT,CAAwB,yBAAxB,EAAmDO,YAAnD,CAAgE,KAAhE,EAAuED,OAAvE;AACD,CAFgC,CAAjC;;AAIA,IAAIG,yBAAyB,IAAIZ,MAAJ,CAAW,iBAAX,EAA8B,UAAUS,OAAV,EAAmB;AAC5EP,WAASC,cAAT,CAAwB,qBAAxB,EAA+CO,YAA/C,CAA4D,KAA5D,EAAmED,OAAnE;AACD,CAF4B,CAA7B;;AAIA,IAAII,qBAAqB,IAAIb,MAAJ,CAAW,aAAX,EAA0B,UAAUS,OAAV,EAAmB;AACpEP,WAASC,cAAT,CAAwB,iBAAxB,EAA2CO,YAA3C,CAAwD,KAAxD,EAA+DD,OAA/D;AACD,CAFwB,CAAzB;;AAIAR,OAAOa,gBAAP,CAAwB,OAAxB,EAAiC,YAAY;AAC3C,MAAIC,kBAAkBP,uBAAuBQ,WAAvB,EAAtB;AACA,MAAIC,sBAAsBN,2BAA2BK,WAA3B,EAA1B;AACA,MAAIE,kBAAkBN,uBAAuBI,WAAvB,EAAtB;AACA,MAAIG,cAAcN,mBAAmBG,WAAnB,EAAlB;AACA,MAAItB,SAAS0B,KAAT,CAAeL,eAAf,EAAgC,SAAhC,KACCrB,SAAS0B,KAAT,CAAeH,mBAAf,EAAoC,SAApC,CADD,IAECvB,SAAS0B,KAAT,CAAeF,eAAf,EAAgC,WAAhC,CAFD,IAGCxB,SAAS0B,KAAT,CAAeD,WAAf,EAA4B,WAA5B,CAHL,EAG+C;AAC7CtB,SAAKwB,IAAL,CAAU,uBAAV,EAAmC;AACjCN,uBAAiBA,eADgB;AAEjCE,2BAAqBA,mBAFY;AAGjCC,uBAAiBA,eAHgB;AAIjCC,mBAAaA;AAJoB,KAAnC,EAKG,YAAY;AACbG,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,aAAvB;AACD,KAPD;AAQD;AACF,CAlBD","file":"upload.js","sourcesContent":["/**\n * Created by administrator on 2016/12/15.\n */\n\n\n// 引入http message validate\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch('upload');\n// 引入wx_upload\nconst Upload = _require('upload');\n// 定义变量\nlet submit = document.getElementById('submit');\nlet identityFacePic_src = document.getElementById('identityFacePic_src');\nlet identityOppositePic_src = document.getElementById('identityOppositePic_src');\nlet identityHandPic_src = document.getElementById('identityHandPic_src');\nlet bankHandPic_src = document.getElementById('bankHandPic_src');\n\nlet upload_identityFacePic = new Upload('identityFacePic', function (localId) {\n  document.getElementById('identityFacePic_src').setAttribute('src', localId);\n});\n\nlet upload_identityOppositePic = new Upload('identityOppositePic', function (localId) {\n  document.getElementById('identityOppositePic_src').setAttribute('src', localId);\n});\n\nlet upload_identityHandPic = new Upload('identityHandPic', function (localId) {\n  document.getElementById('identityHandPic_src').setAttribute('src', localId);\n});\n\nlet upload_bankHandPic = new Upload('bankHandPic', function (localId) {\n  document.getElementById('bankHandPic_src').setAttribute('src', localId);\n});\n\nsubmit.addEventListener('click', function () {\n  let identityFacePic = upload_identityFacePic.getServerId();\n  let identityOppositePic = upload_identityOppositePic.getServerId();\n  let identityHandPic = upload_identityHandPic.getServerId();\n  let bankHandPic = upload_bankHandPic.getServerId();\n  if (validate.empty(identityFacePic, '身份证正面照片')\n    && validate.empty(identityOppositePic, '身份证背面照片')\n    && validate.empty(identityHandPic, '手持身份证正面照片')\n    && validate.empty(bankHandPic, '手持结算卡正面照片')) {\n    http.post('/merchantInfo/savePic', {\n      identityFacePic: identityFacePic,\n      identityOppositePic: identityOppositePic,\n      identityHandPic: identityHandPic,\n      bankHandPic: bankHandPic\n    }, function () {\n      window.location.href = \"/sqb/follow\";\n    })\n  }\n});"]}