{"version":3,"sources":["issue1.js"],"names":["validate","_require","message","http","browser","elastic_touch","number1","document","getElementById","number2","number3","number4","count1","count3","check1","value","length","check3","query1","post","startCode","endCode","data","innerHTML","count","query3","addEventListener","$","click","addClass","siblings","removeClass","eq","index","keyup","mobi1e","val","condition","str","result","style","display","i","name","mobile","aLi","getElementsByTagName","onclick","hide","dealerId","blur","dealerId1","parseInt","prompt_show"],"mappings":"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","file":"issue1.js","sourcesContent":["/**\n * Created by wangl on 2016/12/16.\n */\n\n// 引入http message validate\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n\n// 定义变量\nlet number1 = document.getElementById('number1');\nlet number2 = document.getElementById('number2');\nlet number3 = document.getElementById('number3');\nlet number4 = document.getElementById('number4');\nlet count1 = document.getElementById('count1');\nlet count3 = document.getElementById('count3');\n\n// 输入框校验\nconst check1 = function () {\n  return (number1.value.length == 12 && number2.value.length == 12);\n};\nconst check3 = function () {\n  return (number3.value.length == 12 && number4.value.length == 12);\n};\n\n// 查询有效二维码个数\nconst query1 = function () {\n  if (check1()) {\n    http.post('/dealer/findCodeCount', {\n      startCode: number1.value,\n      endCode: number2.value\n    }, function (data) {\n      count1.innerHTML = data.count;\n    })\n  }\n};\nconst query3 = function () {\n  if (check3()) {\n    http.post('/dealer/findCodeCount', {\n      startCode: number3.value,\n      endCode: number4.value\n    }, function (data) {\n      count3.innerHTML = data.count;\n    })\n  }\n};\n\n// 查询剩余个数\nnumber1.addEventListener('input', query1);\nnumber2.addEventListener('input', query1);\nnumber3.addEventListener('input', query3);\nnumber4.addEventListener('input', query3);\n\n$('#issueHead span').click(function () {\n  $(this).addClass('active').siblings('span').removeClass('active');\n  $('.box div').eq($(this).index()).addClass('show').siblings('div').removeClass('show');\n});\n$(\"#mobile\").keyup(function () {\n  var mobi1e = $(\"#mobile\").val();\n  $.post(\"/dealer/find\", { condition: mobi1e }, function (data) {\n    var str = '';\n    if (data.result.length != 0) {\n      document.getElementById('listId').style.display = \"block\";\n    }\n    for (var i = 0; i < data.result.length; i++) {\n      str += '<li>' + '<span>' + data.result[i].name + '</span>' + '<span>' + data.result[i].mobile + '</span>' + '</li>';\n    }\n    document.getElementById('listId').innerHTML = str;\n    var aLi = document.getElementById('listId').getElementsByTagName('li');\n    for (var i = 0; i < aLi.length; i++) {\n      aLi[i].index = i;\n      aLi[i].onclick = function () {\n        $('.content input')[0].value = data.result[this.index].name + \" \" + data.result[this.index].mobile;\n        $('.list').hide();\n        $(\"#dealerId1\").val(data.result[this.index].dealerId);\n      };\n    }\n  });\n});\n$(\"#mobile\").blur(function () {\n  var mobi1e = $(\"#mobile\").val();\n  $.post(\"/dealer/find\", { condition: mobi1e }, function (data) {\n    if (data.result.length != 0) {\n      document.getElementById('listId').style.display = \"none\";\n      $('.content input')[0].value = data.result[0].name + \" \" + data.result[0].mobile;\n      $('.list').hide();\n      $(\"#dealerId1\").val(data.result[0].dealerId);\n    }\n  });\n});\n$(\"#submit1\").click(function () {\n  var number1 = $(\"#number1\").val();\n  var data = $(\"#data\").val();\n  var dealerId1 = $(\"#dealerId1\").val();\n  if (parseInt(dealerId1) == 0) {\n    prompt_show(\"请输入二级代理\");\n    return false;\n  }\n  if (parseInt(data) >= parseInt(number1) && parseInt(number1) > 0) {\n    return true;\n  } else {\n    prompt_show(\"剩余可分配个数:\" + data + \"个\");\n    return false;\n  }\n});\n$(\"#submit2\").click(function () {\n  var number2 = $(\"#number2\").val();\n  var data = $(\"#data\").val();\n  if (parseInt(data) >= parseInt(number2) && parseInt(number2) > 0) {\n    return true;\n  } else {\n    prompt_show(\"剩余可分配个数:\" + data + \"个\");\n    return false;\n  }\n});"]}