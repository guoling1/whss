<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>好收银</title>
    <!--<link rel="stylesheet" href="http://img.jinkaimen.cn/hsy/css/reset.css">-->
    <!--<link rel="stylesheet" href="http://img.jinkaimen.cn/hsy/css/style.css">-->
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
<div id="issueCord">
    <div class="header" id="issueHead">
        <span class="active">分配给二级代理</span>
        <span>分配给自己</span>
    </div>
    <div class="box">
        <!--分配给二级代理-->
        <div class="content show" id="content">
            <form action="/dealer/distributeQRCode" method="post">
            <label for="">
                二级代理
                <input type="text" name="name" placeholder="输入代理手机号或名称">
                <ul class="list">

                </ul>
            </label>
            <label for="">
                分配个数
                <input type="text" name="number" placeholder="请输入分配个数">
            </label>
            <p>剩余可分配个数：个
                <span>分配记录</span>
            </p>
                <input type="hidden"  name="dealerId" id="dealerId" value="0" />
                <input type="hidden" name="isSelf" value="0" />
                <input class="submit" id = "submit" type="submit" value="提交" />
            </form>
        </div>
        <!--分配给自己-->
        <div class="ownContent" id="ownContent">
            <label for="">
                分配个数
                <input type="text" name="number" placeholder="请输入分配个数">
            </label>
            <p>剩余可分配个数：个
                <span>分配记录</span>
            </p>
        </div>
    </div>

</div>
</body>
<script src="http://img.jinkaimen.cn/hsy/js/qrcode.min.js"></script>
<script src="../js/jQuery-2.1.4.min.js"></script>
<script>
    $('#issueHead span').click(function () {
        $(this).addClass('active').siblings('span').removeClass('active');
        $('.box div').eq($(this).index()).addClass('show').siblings('div').removeClass('show');
    })
    var data = {
        "code": 1,
        "msg": "success",
        "result": [
            {
                "dealerId": 1,     //代理商id
                "mobile": "18640426296",  //手机号
                "name": "张玉龙"     //代理商名称
            },
            {
                "dealerId": 2,     //代理商id
                "mobile": "18640426296",  //手机号
                "name": "张玉龙"     //代理商名称
            },
            {
                "dealerId": 2,     //代理商id
                "mobile": "18640426296",  //手机号
                "name": "张玉龙"     //代理商名称
            },{
                "dealerId": 2,     //代理商id
                "mobile": "18640426296",  //手机号
                "name": "张玉龙"     //代理商名称
            }
        ]
    }
    data = data.result;
    console.log(data)

    for(var i = 0; i < data.length; i++){
        var oLi='<li>'+
                '<span>'+data[i].name+'</span>'+
                '<span>'+data[i].mobile+'</span>'+
                '</li>'
        $('.list').append(oLi)
    }

    var aLi = document.getElementsByTagName('li')
    for(var i=0; i<aLi.length;i++){
        if(aLi.length!=0){
            $('.list').show()
        }
        aLi[i].index = i
        aLi[i].onclick=function () {
            $('.content input')[0].value=data[this.index].name;
            $('.list').hide()
        }
    }
</script>
</html>