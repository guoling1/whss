{"version":3,"sources":["hasAccountFlow.js"],"names":["AnimationCountdown","_require","countdown","validate","message","http","content","document","getElementById","list","createElement","nowPage","more","className","innerHTML","style","display","height","lineHeight","fontSize","color","backgroundColor","addEventListener","getData","appendChild","e","page","post","pageNo","pageSize","res","console","log","records","i","length","div_list","div_left","div_top","div_span","incomeAmount","div_spanS","remark","div_bottom","createTime","div_right","outAmount","hasNextPage","insertBefore","childNodes"],"mappings":"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","file":"hasAccountFlow.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入动画模版 处理验证码\nconst AnimationCountdown = _require('art-countdown');\nlet countdown = new AnimationCountdown('sendCode', '重新获取');\n// 引入http message\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n\n// 定义ajax事件\nlet content = document.getElementById('content');\nlet list = document.createElement('list');\nlet nowPage = 1;\nlet more = document.createElement('div');\nmore.className = 'touch_more';\nmore.innerHTML = '加载更多';\nmore.style.display = 'none';\nmore.style.height = '50px';\nmore.style.lineHeight = '50px';\nmore.style.fontSize = '16px';\nmore.style.color = '#999';\nmore.style.backgroundColor = '#f4f5f8';\nmore.addEventListener('touchstart', function () {\n  more.style.backgroundColor = '#d8d7dc';\n});\nmore.addEventListener('touchend', function () {\n  more.style.backgroundColor = '#f4f5f8';\n});\nmore.addEventListener('click', function () {\n  getData(null, nowPage + 1);\n});\ncontent.appendChild(more);\n\nlet getData = function (e, page) {\n  // 检查page 如果page为1 清空content数据\n  nowPage = page || 1;\n  if (nowPage == 1) {\n    list.innerHTML = '';\n  }\n  http.post('/account/flowDetails', {\n    pageNo: nowPage,\n    pageSize: 20\n  }, function (res) {\n    console.log(res.records);\n    for (let i = 0; i < res.records.length; i++) {\n      let div_list = document.createElement('div');\n      div_list.className = 'flow-group';\n      let div_left = document.createElement('div');\n      div_left.className = 'flow-left';\n      let div_top = document.createElement('div');\n      div_top.className = 'flow-top';\n      let div_span = document.createElement('span');\n      if (res.records[i].incomeAmount > 0) {\n        div_span.innerHTML = '收入';\n      } else {\n        div_span.innerHTML = '提现';\n      }\n      let div_spanS = document.createElement('span');\n      div_spanS.className = 's';\n      div_spanS.innerHTML = res.records[i].remark;\n      div_top.appendChild(div_span);\n      div_top.appendChild(div_spanS);\n      let div_bottom = document.createElement('div');\n      div_bottom.className = 'flow-bottom';\n      div_bottom.innerHTML = res.records[i].createTime;\n      div_left.appendChild(div_top);\n      div_left.appendChild(div_bottom);\n      let div_right = document.createElement('div');\n      if (res.records[i].incomeAmount > 0) {\n        div_right.className = 'flow-right green';\n        div_right.innerHTML = '+' + res.records[i].incomeAmount;\n      } else {\n        div_right.className = 'flow-right red';\n        div_right.innerHTML = '-' + res.records[i].outAmount;\n      }\n      div_list.appendChild(div_left);\n      div_list.appendChild(div_right);\n      list.appendChild(div_list);\n    }\n    // 判断是否还有下一页\n    if (res.hasNextPage) {\n      more.style.display = 'block';\n    } else {\n      more.style.display = 'none';\n    }\n    content.insertBefore(list, content.childNodes[0]);\n  })\n};\n// 初始化数据\ngetData();"]}