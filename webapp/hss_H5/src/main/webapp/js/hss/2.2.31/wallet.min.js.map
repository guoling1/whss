{"version":3,"sources":["wallet.js"],"names":["message","_require","http","Touch","browser","elastic_touch","layer","document","getElementById","xx","cancel","unbundling","unbundlingSubmit","upgrade","announcement_link","addEventListener","window","location","href","announcement","announcement_text_box","announcement_text","pxPerRem","documentElement","clientWidth","pageData","showRecommend","style","display","post","productType","data","innerHTML","title","replace","announcement_text_box_ClientRect","getBoundingClientRect","initLeft","width","announcement_text_ClientRect","runLeft","setInterval","nowLeft","left","onclick","id","res","prompt_show","oemNo"],"mappings":"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","file":"wallet.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/9.\r\n */\r\n\r\n// 引入http message\r\nconst message = _require('message');\r\nconst http = _require('http');\r\n// 引入 touch 动画\r\nconst Touch = _require('touch');\r\nnew Touch('touch_op', '#4b65a8', 'deep', '0.2');\r\nnew Touch('touch_gr', '#FFF', 'deep', '0.1');\r\n// 引入浏览器特性处理\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch();\r\n// 定义变量\r\nconst layer = document.getElementById('layer');\r\nconst xx = document.getElementById('xx');\r\nconst cancel = document.getElementById('cancel');\r\nconst unbundling = document.getElementById('unbundling');\r\nconst unbundlingSubmit = document.getElementById('unbundlingSubmit');\r\nconst upgrade = document.getElementById('show_upgrade');\r\nconst announcement_link = document.getElementById('announcement-link');\r\nannouncement_link.addEventListener('click', function () {\r\n  window.location.href = \"/notice/noticeListJSP\";\r\n});\r\n\r\n// 公告横向的滚动\r\nlet announcement = document.getElementById('announcement');\r\nlet announcement_text_box = document.getElementById('announcement-text-box');\r\nlet announcement_text = document.getElementById('announcement-text');\r\n\r\nconst pxPerRem = document.documentElement.clientWidth;\r\nupgrade.addEventListener('click', function () {\r\n  window.location.href = '/sqb/upgradeMax';\r\n});\r\n// 是否展示升级功能\r\nif (pageData.showRecommend == 2) {\r\n  document.getElementById('show_recommend').style.display = \"none\";\r\n  document.getElementById('show_upgrade').style.display = \"none\";\r\n}\r\n\r\n// 获取公告数据\r\nhttp.post('/notice/pageAnnouncement', {\r\n  productType: 'hss',\r\n}, function (data) {\r\n  if (data) {\r\n    announcement.style.display = 'block';\r\n    announcement_text.innerHTML = data.title.replace(/<[^>]+>/g, \"\");\r\n    let announcement_text_box_ClientRect = announcement_text_box.getBoundingClientRect();\r\n    let initLeft = announcement_text_box_ClientRect.width;\r\n    let announcement_text_ClientRect = announcement_text.getBoundingClientRect();\r\n    let runLeft = announcement_text_ClientRect.width;\r\n    setInterval(function () {\r\n      let nowLeft = initLeft--;\r\n      announcement_text.style.left = nowLeft + 'px';\r\n      if (nowLeft <= -runLeft) {\r\n        initLeft = announcement_text_box_ClientRect.width;\r\n      }\r\n    }, 15);\r\n    announcement.onclick = function () {\r\n      window.location.href = '/notice/noticeDetailsJSP?id=' + data.id;\r\n    };\r\n  }\r\n});\r\n\r\n// 解绑微信\r\nunbundling.addEventListener('click', function () {\r\n  layer.style.display = 'block';\r\n});\r\n\r\nxx.addEventListener('click', function () {\r\n  layer.style.display = 'none';\r\n});\r\n\r\ncancel.addEventListener('click', function () {\r\n  layer.style.display = 'none';\r\n});\r\n\r\nunbundlingSubmit.addEventListener('click', function () {\r\n  http.post('/wx/unbundling', {}, function (res) {\r\n    message.prompt_show('解绑成功');\r\n    layer.style.display = 'none';\r\n    window.location.href = '/sqb/login?oemNo=' + pageData.oemNo;\r\n  })\r\n});"]}