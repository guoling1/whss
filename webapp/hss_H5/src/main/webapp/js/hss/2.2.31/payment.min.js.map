{"version":3,"sources":["payment.js"],"names":["browser","_require","elastic_touch","message","Keyboard","spanId","inputId","keyboardId","isSelf","pageData","selfId","notSelfId","amount","is_weixin","ua","navigator","userAgent","toLowerCase","match","layerSelf","document","getElementById","cancelSelf","submitSelf","addEventListener","style","display","window","location","href","oemNo","layerNotSelf","cancelNotSelf","submitNotSelf","WeixinJSBridge","call","AlipayJSBridge"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,UAAUC,SAAS,SAAT,CAAhB;AACAD,QAAQE,aAAR;AACA;AACA,IAAMC,UAAUF,SAAS,SAAT,CAAhB;AACA,IAAMG,WAAWH,SAAS,UAAT,CAAjB;AACA,IAAIG,QAAJ,CAAa;AACXC,UAAQ,UADG;AAEXC,WAAS,WAFE;AAGXC,cAAY,UAHD;AAIXC,UAAQC,SAASD,MAJN;AAKXE,UAAQ,WALG;AAMXC,aAAW,cANA;AAOXC,UAAQ;AAPG,CAAb;;AAUA,SAASC,SAAT,GAAqB;AACnB,MAAIC,KAAKC,UAAUC,SAAV,CAAoBC,WAApB,EAAT;AACA,SAAQH,GAAGI,KAAH,CAAS,iBAAT,KAA+B,gBAAvC;AACD;;AAED,IAAIT,SAASD,MAAT,IAAmB,CAAvB,EAA0B;AAAA;AACxB,QAAIW,YAAYC,SAASC,cAAT,CAAwB,WAAxB,CAAhB;AACA,QAAIC,aAAaF,SAASC,cAAT,CAAwB,YAAxB,CAAjB;AACA,QAAIE,aAAaH,SAASC,cAAT,CAAwB,YAAxB,CAAjB;AACAC,eAAWE,gBAAX,CAA4B,OAA5B,EAAqC,YAAY;AAC/CL,gBAAUM,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACD,KAFD;AAGAH,eAAWC,gBAAX,CAA4B,OAA5B,EAAqC,YAAY;AAC/CG,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,2BAA2BpB,SAASqB,KAA3D;AACD,KAFD;AAPwB;AAUzB;AACD,IAAIC,eAAeX,SAASC,cAAT,CAAwB,cAAxB,CAAnB;AACA,IAAIW,gBAAgBZ,SAASC,cAAT,CAAwB,eAAxB,CAApB;AACA,IAAIY,gBAAgBb,SAASC,cAAT,CAAwB,eAAxB,CAApB;AACAW,cAAcR,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AAClDO,eAAaN,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACD,CAFD;AAGAO,cAAcT,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AAClD,MAAIX,WAAJ,EAAiB;AACfqB,mBAAeC,IAAf,CAAoB,aAApB;AACD,GAFD,MAEO;AACLC,mBAAeD,IAAf,CAAoB,cAApB;AACD;AACF,CAND","file":"payment.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n// 引入http message\nconst message = _require('message');\nconst Keyboard = _require('keyboard');\nnew Keyboard({\n  spanId: 'key-span',\n  inputId: 'key-input',\n  keyboardId: 'keyboard',\n  isSelf: pageData.isSelf,\n  selfId: 'layerSelf',\n  notSelfId: 'layerNotSelf',\n  amount: '2000'\n});\n\nfunction is_weixin() {\n  let ua = navigator.userAgent.toLowerCase();\n  return (ua.match(/MicroMessenger/i) == \"micromessenger\");\n}\n\nif (pageData.isSelf == 1) {\n  let layerSelf = document.getElementById('layerSelf');\n  let cancelSelf = document.getElementById('cancelSelf');\n  let submitSelf = document.getElementById('submitSelf');\n  cancelSelf.addEventListener('click', function () {\n    layerSelf.style.display = 'none';\n  });\n  submitSelf.addEventListener('click', function () {\n    window.location.href = '/sqb/collection?oemNo=' + pageData.oemNo;\n  })\n}\nlet layerNotSelf = document.getElementById('layerNotSelf');\nlet cancelNotSelf = document.getElementById('cancelNotSelf');\nlet submitNotSelf = document.getElementById('submitNotSelf');\ncancelNotSelf.addEventListener('click', function () {\n  layerNotSelf.style.display = 'none';\n});\nsubmitNotSelf.addEventListener('click', function () {\n  if (is_weixin()) {\n    WeixinJSBridge.call('closeWindow');\n  } else {\n    AlipayJSBridge.call('closeWebview');\n  }\n});"]}