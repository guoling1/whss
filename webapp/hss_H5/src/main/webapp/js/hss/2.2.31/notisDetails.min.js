'use strict';

/**
 * Created by administrator on 2016/12/13.
 */

// 引入 message http
var message = _require('message');
var http = _require('http');
var tools = _require('tools');
// 引入浏览器特性处理
var browser = _require('browser');
browser.elastic_touch('noticeDetails');
// 定义ajax事件
var query = tools.GetUrlArg();
var title = document.getElementById('title');
var date = document.getElementById('date');
var context = document.getElementById('context');

var changeTitle = function changeTitle(title) {
  var body = document.getElementsByTagName('body')[0];
  if (!title) {
    document.title = '好收收';
  } else {
    document.title = title;
  }
  var iframe = document.createElement("iframe");
  iframe.className = 'none';
  iframe.setAttribute("src", "/app/imgs/bingo.png");
  iframe.addEventListener('load', function () {
    $timeout(function () {
      iframe.removeEventListener('load', function () {});
      document.body.removeChild(iframe);
    }, 0);
  });
  document.body.appendChild(iframe);
};

http.post('/notice/noticeDetails', {
  id: query.id
}, function (data) {
  changeTitle(data.title);
  title.innerHTML = data.title;
  date.innerHTML = tools.dateFormat('YYYY-MM-DD HH:mm:ss', data.createTime);
  context.innerHTML = data.text;
});
//# sourceMappingURL=notisDetails.min.js.map
