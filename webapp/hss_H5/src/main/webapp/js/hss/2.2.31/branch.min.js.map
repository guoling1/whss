{"version":3,"sources":["branch.js"],"names":["http","_require","message","validate","browser","elastic_touch","color","document","getElementById","logo","client_h","body","clientHeight","layer_w","layer_w_list","layer_b","layer_b_list","submit","world","branch","match_ipt","p","c","ct","Provinces","Citys","Countrys","getQueryString","name","reg","RegExp","r","window","location","search","substr","match","unescape","getLocationString","path","pathname","index","lastIndexOf","substring","length","pageData","provinceCode","provinceName","cityCode","cityName","countyCode","countyName","branchCode","branchName","value","onclick","empty","post","bankId","href","oemNo","layer","style","display","prompt_show","rect_b","getBoundingClientRect","height","top","focus","addEventListener","e","ev","target","test","contions","data","innerHTML","console","log","i","div_branch","createElement","className","appendChild","ProvincesSet","rect_w","div_Provinces","aname","code","CitysSet","div_Citys","CountrysSet","div_Countrys","bankCardBin","bankLogoColor","HasBank","bin"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,OAAOC,SAAS,MAAT,CAAb;AACA,IAAMC,UAAUD,SAAS,SAAT,CAAhB;AACA,IAAME,WAAWF,SAAS,UAAT,CAAjB;AACA,IAAMG,UAAUH,SAAS,SAAT,CAAhB;AACAG,QAAQC,aAAR,CAAsB,cAAtB;AACAD,QAAQC,aAAR,CAAsB,cAAtB;AACA;AACA,IAAMC,QAAQC,SAASC,cAAT,CAAwB,OAAxB,CAAd;AACA,IAAMC,OAAOF,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA;AACA,IAAIE,WAAWH,SAASI,IAAT,CAAcC,YAA7B;AACA,IAAIC,UAAUN,SAASC,cAAT,CAAwB,SAAxB,CAAd;AACA,IAAIM,eAAeP,SAASC,cAAT,CAAwB,cAAxB,CAAnB;AACA,IAAIO,UAAUR,SAASC,cAAT,CAAwB,SAAxB,CAAd;AACA,IAAIQ,eAAeT,SAASC,cAAT,CAAwB,cAAxB,CAAnB;AACA;AACA,IAAIS,SAASV,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAIU,QAAQX,SAASC,cAAT,CAAwB,OAAxB,CAAZ;AACA,IAAIW,SAASZ,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAIY,YAAYb,SAASC,cAAT,CAAwB,WAAxB,CAAhB;AACA;AACA,IAAIa,IAAId,SAASC,cAAT,CAAwB,GAAxB,CAAR;AACA,IAAIc,IAAIf,SAASC,cAAT,CAAwB,GAAxB,CAAR;AACA,IAAIe,KAAKhB,SAASC,cAAT,CAAwB,IAAxB,CAAT;;AAEA,IAAIgB,YAAY,KAAhB;AACA,IAAIC,QAAQ,KAAZ;AACA,IAAIC,WAAW,KAAf;;AAEA,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAC1B,QAAIC,MAAM,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,EAA6C,GAA7C,CAAV;AACA,QAAIG,IAAIC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCP,GAAvC,CAAR;AACA,QAAIE,KAAK,IAAT,EAAe,OAAOM,SAASN,EAAE,CAAF,CAAT,CAAP;AACf,WAAO,IAAP;AACH;;AAED,SAASO,iBAAT,GAA6B;AACzB,QAAIC,OAAOP,OAAOC,QAAP,CAAgBO,QAA3B;AACA,QAAIC,QAAQF,KAAKG,WAAL,CAAiB,IAAjB,CAAZ;AACA,WAAOH,KAAKI,SAAL,CAAeF,QAAQ,CAAvB,EAA0BF,KAAKK,MAA/B,CAAP;AACH;;AAED;AACA,IAAIC,SAASC,YAAT,IAAyB,EAAzB,IACAD,SAASE,YAAT,IAAyB,EADzB,IAEAF,SAASG,QAAT,IAAqB,EAFrB,IAGAH,SAASI,QAAT,IAAqB,EAHrB,IAIAJ,SAASK,UAAT,IAAuB,EAJvB,IAKAL,SAASM,UAAT,IAAuB,EALvB,IAMAN,SAASO,UAAT,IAAuB,EANvB,IAOAP,SAASQ,UAAT,IAAuB,EAP3B,EAO+B;AAC3BnC,UAAMoC,KAAN,GAAcT,SAASE,YAAT,GAAwBF,SAASI,QAAjC,GAA4CJ,SAASM,UAAnE;AACAhC,WAAOmC,KAAP,GAAeT,SAASQ,UAAxB;AACH;;AAGDpC,OAAOsC,OAAP,GAAiB,YAAY;AACzB,QAAIpD,SAASqD,KAAT,CAAeX,SAASC,YAAxB,EAAsC,MAAtC,KACA3C,SAASqD,KAAT,CAAeX,SAASE,YAAxB,EAAsC,MAAtC,CADA,IAEA5C,SAASqD,KAAT,CAAeX,SAASG,QAAxB,EAAkC,MAAlC,CAFA,IAGA7C,SAASqD,KAAT,CAAeX,SAASI,QAAxB,EAAkC,MAAlC,CAHA,IAIA9C,SAASqD,KAAT,CAAeX,SAASK,UAAxB,EAAoC,MAApC,CAJA,IAKA/C,SAASqD,KAAT,CAAeX,SAASM,UAAxB,EAAoC,MAApC,CALA,IAMAhD,SAASqD,KAAT,CAAeX,SAASO,UAAxB,EAAoC,MAApC,CANA,IAOAjD,SAASqD,KAAT,CAAeX,SAASQ,UAAxB,EAAoC,MAApC,CAPJ,EAOiD;AAC7CrD,aAAKyD,IAAL,CAAU,gBAAV,EAA4B;AACxBC,oBAAQpB,mBADgB;AAExBc,wBAAYP,SAASO,UAFG;AAGxBC,wBAAYR,SAASQ,UAHG;AAIxBP,0BAAcD,SAASC,YAJC;AAKxBC,0BAAcF,SAASE,YALC;AAMxBC,sBAAUH,SAASG,QANK;AAOxBC,sBAAUJ,SAASI,QAPK;AAQxBC,wBAAYL,SAASK,UARG;AASxBC,wBAAYN,SAASM;AATG,SAA5B,EAUG,YAAY;AACX,gBAAIxB,eAAe,MAAf,CAAJ,EAA4B;AACxBK,uBAAOC,QAAP,CAAgB0B,IAAhB,GAAuB,2CAA2Cd,SAASe,KAA3E;AACH,aAFD,MAEO,IAAIjC,eAAe,QAAf,CAAJ,EAA8B;AACjCkC,sBAAMC,KAAN,CAAYC,OAAZ,GAAsB,OAAtB;AACH,aAFM,MAEA;AACH/B,uBAAOC,QAAP,CAAgB0B,IAAhB,GAAuB,qBAAqBd,SAASe,KAArD;AACH;AACJ,SAlBD;AAmBH;AACJ,CA7BD;;AA+BAzC,OAAOoC,OAAP,GAAiB,YAAY;AACzB,QAAI,CAACV,SAASM,UAAV,IAAwBN,SAASM,UAAT,IAAuB,EAAnD,EAAuD;AACnDjD,gBAAQ8D,WAAR,CAAoB,UAApB;AACA,eAAO,KAAP;AACH;AACDjD,YAAQ+C,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACA,QAAIE,SAASlD,QAAQmD,qBAAR,EAAb;AACAnD,YAAQ+C,KAAR,CAAcK,MAAd,GAAwBzD,WAAWuD,OAAOG,GAAnB,GAA0B,IAAjD;AACApD,iBAAa8C,KAAb,CAAmBK,MAAnB,GAA6BzD,WAAWuD,OAAOG,GAAlB,GAAwB,EAAzB,GAA+B,IAA3D;AACAhD,cAAUiD,KAAV;AACH,CAVD;;AAYAjD,UAAUkD,gBAAV,CAA2B,OAA3B,EAAoC,UAAUC,CAAV,EAAa;AAC7C,QAAIC,KAAKD,EAAEE,MAAX;AACA,QAAI,wBAAwBC,IAAxB,CAA6BF,GAAGlB,KAAhC,CAAJ,EAA4C;AACxCtD,aAAKyD,IAAL,CAAU,2BAAV,EAAuC;AACnCkB,sBAAUH,GAAGlB,KADsB;AAEnCP,0BAAcF,SAASE,YAFY;AAGnCE,sBAAUJ,SAASI;AAHgB,SAAvC,EAIG,UAAU2B,IAAV,EAAgB;AACf5D,yBAAa6D,SAAb,GAAyB,EAAzB;AACAC,oBAAQC,GAAR,CAAYH,IAAZ;;AAFe,uCAGNI,CAHM;AAIX,oBAAIC,aAAa1E,SAAS2E,aAAT,CAAuB,KAAvB,CAAjB;AACAD,2BAAWE,SAAX,GAAuB,GAAvB;AACAF,2BAAWJ,SAAX,GAAuBD,KAAKI,CAAL,EAAQ3B,UAA/B;AACA4B,2BAAW1B,OAAX,GAAqB,YAAY;AAC7BpC,2BAAOmC,KAAP,GAAesB,KAAKI,CAAL,EAAQ3B,UAAvB;AACAR,6BAASO,UAAT,GAAsBwB,KAAKI,CAAL,EAAQ5B,UAA9B;AACAP,6BAASQ,UAAT,GAAsBuB,KAAKI,CAAL,EAAQ3B,UAA9B;AACAtC,4BAAQ+C,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACH,iBALD;AAMA/C,6BAAaoE,WAAb,CAAyBH,UAAzB;AAbW;;AAGf,iBAAK,IAAID,IAAI,CAAb,EAAgBA,IAAIJ,KAAKhC,MAAzB,EAAiCoC,GAAjC,EAAsC;AAAA,sBAA7BA,CAA6B;AAWrC;AACJ,SAnBD;AAoBH;AACJ,CAxBD;;AA0BA9D,MAAMqC,OAAN,GAAgB,YAAY;AACxBxC,YAAQ+C,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACA,QAAI,CAACvC,SAAL,EAAgB;AACZ;AACAxB,aAAKyD,IAAL,CAAU,4BAAV,EAAwC,EAAxC,EAA4C,UAAUmB,IAAV,EAAgB;AACxDpD,wBAAYoD,IAAZ;AACAS;AACH,SAHD;AAIH,KAND,MAMO;AACHA;AACH;AACDlE,WAAOmC,KAAP,GAAe,EAAf;AACAT,aAASO,UAAT,GAAsB,EAAtB;AACAP,aAASQ,UAAT,GAAsB,EAAtB;AACArC,iBAAa6D,SAAb,GAAyB,EAAzB;AACAhE,YAAQiD,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACA,QAAIuB,SAASzE,QAAQqD,qBAAR,EAAb;AACArD,YAAQiD,KAAR,CAAcK,MAAd,GAAwBzD,WAAW4E,OAAOlB,GAAnB,GAA0B,IAAjD;AACAtD,iBAAagD,KAAb,CAAmBK,MAAnB,GAA6BzD,WAAW4E,OAAOlB,GAAlB,GAAwB,GAAzB,GAAgC,IAA5D;AACH,CAnBD;;AAqBA;AACA,IAAIiB,eAAe,SAAfA,YAAe,GAAY;AAC3BvE,iBAAa+D,SAAb,GAAyB,EAAzB;;AAD2B,iCAElBG,CAFkB;AAGvB,YAAIO,gBAAgBhF,SAAS2E,aAAT,CAAuB,KAAvB,CAApB;AACAK,sBAAcV,SAAd,GAA0BrD,UAAUwD,CAAV,EAAaQ,KAAvC;AACAD,sBAAchC,OAAd,GAAwB,YAAY;AAChClC,cAAE8D,SAAF,GAAc,EAAd;AACA9D,cAAEwD,SAAF,GAAcrD,UAAUwD,CAAV,EAAaQ,KAA3B;AACA3C,qBAASC,YAAT,GAAwBtB,UAAUwD,CAAV,EAAaS,IAArC;AACA5C,qBAASE,YAAT,GAAwBvB,UAAUwD,CAAV,EAAaQ,KAArC;AACA,gBAAI,CAAC/D,KAAD,IAAU,CAACA,MAAMD,UAAUwD,CAAV,EAAaS,IAAnB,CAAf,EAAyC;AACrCzF,qBAAKyD,IAAL,CAAU,uBAAV,EAAmC,EAACgC,MAAMjE,UAAUwD,CAAV,EAAaS,IAApB,EAAnC,EAA8D,UAAUb,IAAV,EAAgB;AAC1EnD,4BAAQ,EAAR;AACAA,0BAAMD,UAAUwD,CAAV,EAAaS,IAAnB,IAA2Bb,IAA3B;AACAc,6BAASlE,UAAUwD,CAAV,EAAaS,IAAtB;AACH,iBAJD;AAKH,aAND,MAMO;AACHC,yBAASlE,UAAUwD,CAAV,EAAaS,IAAtB;AACH;AACJ,SAdD;AAeA3E,qBAAasE,WAAb,CAAyBG,aAAzB;AApBuB;;AAE3B,SAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIxD,UAAUoB,MAA9B,EAAsCoC,GAAtC,EAA2C;AAAA,eAAlCA,CAAkC;AAmB1C;AACD3D,MAAE8D,SAAF,GAAc,QAAd;AACA9D,MAAEyC,KAAF,CAAQC,OAAR,GAAkB,cAAlB;AACH,CAxBD;;AA0BA;AACA,IAAI2B,WAAW,SAAXA,QAAW,CAAUD,IAAV,EAAgB;AAC3B3E,iBAAa+D,SAAb,GAAyB,EAAzB;;AAD2B,iCAElBG,CAFkB;AAGvB,YAAIW,YAAYpF,SAAS2E,aAAT,CAAuB,KAAvB,CAAhB;AACAS,kBAAUd,SAAV,GAAsBpD,MAAMgE,IAAN,EAAYT,CAAZ,EAAeQ,KAArC;AACAG,kBAAUpC,OAAV,GAAoB,YAAY;AAC5BjC,cAAE6D,SAAF,GAAc,EAAd;AACA7D,cAAEuD,SAAF,GAAcpD,MAAMgE,IAAN,EAAYT,CAAZ,EAAeQ,KAA7B;AACA3C,qBAASG,QAAT,GAAoBvB,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAAnC;AACA5C,qBAASI,QAAT,GAAoBxB,MAAMgE,IAAN,EAAYT,CAAZ,EAAeQ,KAAnC;AACA,gBAAI,CAAC9D,QAAD,IAAa,CAACA,SAASD,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAAxB,CAAlB,EAAiD;AAC7CzF,qBAAKyD,IAAL,CAAU,yBAAV,EAAqC,EAACgC,MAAMhE,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAAtB,EAArC,EAAkE,UAAUb,IAAV,EAAgB;AAC9ElD,+BAAW,EAAX;AACAA,6BAASD,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAAxB,IAAgCb,IAAhC;AACAgB,gCAAYnE,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAA3B;AACH,iBAJD;AAKH,aAND,MAMO;AACHG,4BAAYnE,MAAMgE,IAAN,EAAYT,CAAZ,EAAeS,IAA3B;AACH;AACJ,SAdD;AAeA3E,qBAAasE,WAAb,CAAyBO,SAAzB;AApBuB;;AAE3B,SAAK,IAAIX,IAAI,CAAb,EAAgBA,IAAIvD,MAAMgE,IAAN,EAAY7C,MAAhC,EAAwCoC,GAAxC,EAA6C;AAAA,eAApCA,CAAoC;AAmB5C;AACD1D,MAAE6D,SAAF,GAAc,QAAd;AACA7D,MAAEwC,KAAF,CAAQC,OAAR,GAAkB,cAAlB;AACH,CAxBD;;AA0BA;AACA,IAAI6B,cAAc,SAAdA,WAAc,CAAUH,IAAV,EAAgB;AAC9B3E,iBAAa+D,SAAb,GAAyB,EAAzB;;AAD8B,iCAErBG,CAFqB;AAG1B,YAAIa,eAAetF,SAAS2E,aAAT,CAAuB,KAAvB,CAAnB;AACAW,qBAAahB,SAAb,GAAyBnD,SAAS+D,IAAT,EAAeT,CAAf,EAAkBQ,KAA3C;AACAK,qBAAatC,OAAb,GAAuB,YAAY;AAC/BhC,eAAG4D,SAAH,GAAe,EAAf;AACA5D,eAAGsD,SAAH,GAAenD,SAAS+D,IAAT,EAAeT,CAAf,EAAkBQ,KAAjC;AACA3C,qBAASK,UAAT,GAAsBxB,SAAS+D,IAAT,EAAeT,CAAf,EAAkBS,IAAxC;AACA5C,qBAASM,UAAT,GAAsBzB,SAAS+D,IAAT,EAAeT,CAAf,EAAkBQ,KAAxC;AACAtE,kBAAMoC,KAAN,GAAcT,SAASE,YAAT,GAAwBF,SAASI,QAAjC,GAA4CJ,SAASM,UAAnE;AACAtC,oBAAQiD,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACH,SAPD;AAQAjD,qBAAasE,WAAb,CAAyBS,YAAzB;AAb0B;;AAE9B,SAAK,IAAIb,IAAI,CAAb,EAAgBA,IAAItD,SAAS+D,IAAT,EAAe7C,MAAnC,EAA2CoC,GAA3C,EAAgD;AAAA,eAAvCA,CAAuC;AAY/C;AACDzD,OAAG4D,SAAH,GAAe,QAAf;AACA5D,OAAGuC,KAAH,CAASC,OAAT,GAAmB,cAAnB;AACH,CAjBD;;AAmBA1C,EAAEkC,OAAF,GAAY,YAAY;AACpBjC,MAAEwC,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACAxC,OAAGuC,KAAH,CAASC,OAAT,GAAmB,MAAnB;AACAsB;AACH,CAJD;;AAMA/D,EAAEiC,OAAF,GAAY,YAAY;AACpBhC,OAAGuC,KAAH,CAASC,OAAT,GAAmB,MAAnB;AACA2B,aAAS7C,SAASC,YAAlB;AACH,CAHD;;AAKAvB,GAAGgC,OAAH,GAAa,YAAY;AACrBmC,aAAS7C,SAASG,QAAlB;AACH,CAFD;;AAIA;AACA,IAAI8C,cAAc,CAAC,KAAD,EAAQ,UAAR,EAAoB,KAApB,EAA2B,KAA3B,EAAkC,KAAlC,EAAyC,KAAzC,EAAgD,KAAhD,EAAuD,OAAvD,EAAgE,KAAhE,EAAuE,MAAvE,EAA+E,MAA/E,EAAuF,QAAvF,EAAiG,MAAjG,EAAyG,QAAzG,CAAlB;AACA,IAAIC,gBAAgB,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,EAAyB,MAAzB,EAAiC,KAAjC,EAAwC,KAAxC,EAA+C,MAA/C,EAAuD,KAAvD,EAA8D,KAA9D,EAAqE,KAArE,EAA4E,KAA5E,EAAmF,KAAnF,EAA0F,OAA1F,EAAmG,KAAnG,CAApB;;AAEA,IAAIC,UAAU,SAAVA,OAAU,GAAM;AAChB,SAAK,IAAIhB,IAAI,CAAb,EAAgBA,IAAIc,YAAYlD,MAAhC,EAAwCoC,GAAxC,EAA6C;AACzC,YAAIc,YAAYd,CAAZ,KAAkBnC,SAASoD,GAA/B,EAAoC;AAChC,mBAAOjB,CAAP;AACH;AACJ;AACD,WAAO,CAAC,CAAR;AACH,CAPD;;AASA,IAAIvC,QAAQuD,SAAZ;;AAEA,IAAIvD,SAAS,CAAC,CAAd,EAAiB;AACbnC,UAAM6E,SAAN,GAAkB,WAAWY,cAActD,KAAd,CAA7B;AACAhC,SAAK0E,SAAL,GAAiB,UAAUtC,SAASoD,GAApC;AACH,CAHD,MAGO;AACH3F,UAAM6E,SAAN,GAAkB,WAAlB;AACA1E,SAAK0E,SAAL,GAAiB,cAAjB;AACH","file":"branch.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/8.\r\n */\r\n\r\n// 引入浏览器特性处理\r\nconst http = _require('http');\r\nconst message = _require('message');\r\nconst validate = _require('validate');\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch('layer-w-list');\r\nbrowser.elastic_touch('layer-b-list');\r\n// 定义变量\r\nconst color = document.getElementById('color');\r\nconst logo = document.getElementById('logo');\r\n// 获取屏幕高度 确定搜索栏位置\r\nlet client_h = document.body.clientHeight;\r\nlet layer_w = document.getElementById('layer-w');\r\nlet layer_w_list = document.getElementById('layer-w-list');\r\nlet layer_b = document.getElementById('layer-b');\r\nlet layer_b_list = document.getElementById('layer-b-list');\r\n// 定义输入框\r\nlet submit = document.getElementById('submit');\r\nlet world = document.getElementById('world');\r\nlet branch = document.getElementById('branch');\r\nlet match_ipt = document.getElementById('match_ipt');\r\n// 定义选择框\r\nlet p = document.getElementById('p');\r\nlet c = document.getElementById('c');\r\nlet ct = document.getElementById('ct');\r\n\r\nlet Provinces = false;\r\nlet Citys = false;\r\nlet Countrys = false;\r\n\r\nfunction getQueryString(name) {\r\n    let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    let r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return unescape(r[2]);\r\n    return null;\r\n}\r\n\r\nfunction getLocationString() {\r\n    let path = window.location.pathname;\r\n    let index = path.lastIndexOf(\"\\/\");\r\n    return path.substring(index + 1, path.length);\r\n}\r\n\r\n// 处理 初始化 的过程\r\nif (pageData.provinceCode != '' &&\r\n    pageData.provinceName != '' &&\r\n    pageData.cityCode != '' &&\r\n    pageData.cityName != '' &&\r\n    pageData.countyCode != '' &&\r\n    pageData.countyName != '' &&\r\n    pageData.branchCode != '' &&\r\n    pageData.branchName != '') {\r\n    world.value = pageData.provinceName + pageData.cityName + pageData.countyName;\r\n    branch.value = pageData.branchName;\r\n}\r\n\r\n\r\nsubmit.onclick = function () {\r\n    if (validate.empty(pageData.provinceCode, '所在地区') &&\r\n        validate.empty(pageData.provinceName, '所在地区') &&\r\n        validate.empty(pageData.cityCode, '所在地区') &&\r\n        validate.empty(pageData.cityName, '所在地区') &&\r\n        validate.empty(pageData.countyCode, '所在地区') &&\r\n        validate.empty(pageData.countyName, '所在地区') &&\r\n        validate.empty(pageData.branchCode, '支行信息') &&\r\n        validate.empty(pageData.branchName, '支行信息')) {\r\n        http.post('/wx/branchInfo', {\r\n            bankId: getLocationString(),\r\n            branchCode: pageData.branchCode,\r\n            branchName: pageData.branchName,\r\n            provinceCode: pageData.provinceCode,\r\n            provinceName: pageData.provinceName,\r\n            cityCode: pageData.cityCode,\r\n            cityName: pageData.cityName,\r\n            countyCode: pageData.countyCode,\r\n            countyName: pageData.countyName\r\n        }, function () {\r\n            if (getQueryString('card')) {\r\n                window.location.href = '/sqb/creditCardAuthen?card=true&oemNo=' + pageData.oemNo;\r\n            } else if (getQueryString('branch')) {\r\n                layer.style.display = 'block';\r\n            } else {\r\n                window.location.href = '/sqb/bank?oemNo=' + pageData.oemNo;\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nbranch.onclick = function () {\r\n    if (!pageData.countyName || pageData.countyName == '') {\r\n        message.prompt_show('请先选择支行地区');\r\n        return false;\r\n    }\r\n    layer_b.style.display = 'block';\r\n    let rect_b = layer_b.getBoundingClientRect();\r\n    layer_b.style.height = (client_h - rect_b.top) + 'px';\r\n    layer_b_list.style.height = (client_h - rect_b.top - 50) + 'px';\r\n    match_ipt.focus();\r\n};\r\n\r\nmatch_ipt.addEventListener('input', function (e) {\r\n    let ev = e.target;\r\n    if (/[\\u4e00-\\u9fa5]{2,50}/.test(ev.value)) {\r\n        http.post('/bankBranch/getBankBranch', {\r\n            contions: ev.value,\r\n            provinceName: pageData.provinceName,\r\n            cityName: pageData.cityName\r\n        }, function (data) {\r\n            layer_b_list.innerHTML = '';\r\n            console.log(data);\r\n            for (let i = 0; i < data.length; i++) {\r\n                let div_branch = document.createElement('div');\r\n                div_branch.className = 't';\r\n                div_branch.innerHTML = data[i].branchName;\r\n                div_branch.onclick = function () {\r\n                    branch.value = data[i].branchName;\r\n                    pageData.branchCode = data[i].branchCode;\r\n                    pageData.branchName = data[i].branchName;\r\n                    layer_b.style.display = 'none';\r\n                };\r\n                layer_b_list.appendChild(div_branch);\r\n            }\r\n        })\r\n    }\r\n});\r\n\r\nworld.onclick = function () {\r\n    layer_b.style.display = 'none';\r\n    if (!Provinces) {\r\n        // 如果不存在 则去获取数据\r\n        http.post('/district/findAllProvinces', {}, function (data) {\r\n            Provinces = data;\r\n            ProvincesSet();\r\n        })\r\n    } else {\r\n        ProvincesSet();\r\n    }\r\n    branch.value = '';\r\n    pageData.branchCode = '';\r\n    pageData.branchName = '';\r\n    layer_b_list.innerHTML = '';\r\n    layer_w.style.display = 'block';\r\n    let rect_w = layer_w.getBoundingClientRect();\r\n    layer_w.style.height = (client_h - rect_w.top) + 'px';\r\n    layer_w_list.style.height = (client_h - rect_w.top - 100) + 'px';\r\n};\r\n\r\n// Provinces 部署事件\r\nlet ProvincesSet = function () {\r\n    layer_w_list.innerHTML = '';\r\n    for (let i = 0; i < Provinces.length; i++) {\r\n        let div_Provinces = document.createElement('div');\r\n        div_Provinces.innerHTML = Provinces[i].aname;\r\n        div_Provinces.onclick = function () {\r\n            p.className = '';\r\n            p.innerHTML = Provinces[i].aname;\r\n            pageData.provinceCode = Provinces[i].code;\r\n            pageData.provinceName = Provinces[i].aname;\r\n            if (!Citys || !Citys[Provinces[i].code]) {\r\n                http.post('/district/findAllCity', {code: Provinces[i].code}, function (data) {\r\n                    Citys = {};\r\n                    Citys[Provinces[i].code] = data;\r\n                    CitysSet(Provinces[i].code);\r\n                })\r\n            } else {\r\n                CitysSet(Provinces[i].code);\r\n            }\r\n        };\r\n        layer_w_list.appendChild(div_Provinces);\r\n    }\r\n    p.className = 'choose';\r\n    p.style.display = 'inline-block';\r\n};\r\n\r\n// Citys 部署事件\r\nlet CitysSet = function (code) {\r\n    layer_w_list.innerHTML = '';\r\n    for (let i = 0; i < Citys[code].length; i++) {\r\n        let div_Citys = document.createElement('div');\r\n        div_Citys.innerHTML = Citys[code][i].aname;\r\n        div_Citys.onclick = function () {\r\n            c.className = '';\r\n            c.innerHTML = Citys[code][i].aname;\r\n            pageData.cityCode = Citys[code][i].code;\r\n            pageData.cityName = Citys[code][i].aname;\r\n            if (!Countrys || !Countrys[Citys[code][i].code]) {\r\n                http.post('/district/findAllCounty', {code: Citys[code][i].code}, function (data) {\r\n                    Countrys = {};\r\n                    Countrys[Citys[code][i].code] = data;\r\n                    CountrysSet(Citys[code][i].code);\r\n                })\r\n            } else {\r\n                CountrysSet(Citys[code][i].code);\r\n            }\r\n        };\r\n        layer_w_list.appendChild(div_Citys);\r\n    }\r\n    c.className = 'choose';\r\n    c.style.display = 'inline-block';\r\n};\r\n\r\n// Countrys 部署事件\r\nlet CountrysSet = function (code) {\r\n    layer_w_list.innerHTML = '';\r\n    for (let i = 0; i < Countrys[code].length; i++) {\r\n        let div_Countrys = document.createElement('div');\r\n        div_Countrys.innerHTML = Countrys[code][i].aname;\r\n        div_Countrys.onclick = function () {\r\n            ct.className = '';\r\n            ct.innerHTML = Countrys[code][i].aname;\r\n            pageData.countyCode = Countrys[code][i].code;\r\n            pageData.countyName = Countrys[code][i].aname;\r\n            world.value = pageData.provinceName + pageData.cityName + pageData.countyName;\r\n            layer_w.style.display = 'none';\r\n        };\r\n        layer_w_list.appendChild(div_Countrys);\r\n    }\r\n    ct.className = 'choose';\r\n    ct.style.display = 'inline-block';\r\n};\r\n\r\np.onclick = function () {\r\n    c.style.display = 'none';\r\n    ct.style.display = 'none';\r\n    ProvincesSet();\r\n};\r\n\r\nc.onclick = function () {\r\n    ct.style.display = 'none';\r\n    CitysSet(pageData.provinceCode);\r\n};\r\n\r\nct.onclick = function () {\r\n    CitysSet(pageData.cityCode);\r\n};\r\n\r\n// 卡bin和颜色一一对应\r\nlet bankCardBin = ['ABC', 'BANKCOMM', 'BOC', 'CCB', 'CEB', 'CGB', 'CIB', 'CITIC', 'CMB', 'CMBC', 'ICBC', 'PINGAN', 'PSBC', 'SHBANK'];\r\nlet bankLogoColor = ['green', 'blue', 'red', 'blue', 'red', 'red', 'blue', 'red', 'red', 'red', 'red', 'red', 'green', 'red'];\r\n\r\nlet HasBank = () => {\r\n    for (let i = 0; i < bankCardBin.length; i++) {\r\n        if (bankCardBin[i] == pageData.bin) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\nlet index = HasBank();\r\n\r\nif (index != -1) {\r\n    color.className = 'group ' + bankLogoColor[index];\r\n    logo.className = 'logo ' + pageData.bin;\r\n} else {\r\n    color.className = 'group red';\r\n    logo.className = 'logo DEFAULT';\r\n}"]}