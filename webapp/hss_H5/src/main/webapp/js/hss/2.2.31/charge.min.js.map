{"version":3,"sources":["charge.js"],"names":["message","_require","http","qr","document","getElementById","browser","elastic_touch","set_html_size","qrImg","QRCode","text","pageData","payUrl","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H","getQueryString","name","reg","RegExp","r","window","location","search","substr","match","unescape","wxLogo","wxText","zfbLogo","zfbText","style","display"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,UAAUC,SAAS,SAAT,CAAhB;AACA,IAAMC,OAAOD,SAAS,MAAT,CAAb;AACA;AACA,IAAME,KAAKC,SAASC,cAAT,CAAwB,IAAxB,CAAX;AACA;AACA;AACA,IAAMC,UAAUL,SAAS,SAAT,CAAhB;AACAK,QAAQC,aAAR;AACAD,QAAQE,aAAR;AACA,IAAIC,QAAQ,IAAIC,MAAJ,CAAWP,EAAX,EAAe;AACzBQ,QAAMC,SAASC,MADU;AAEzBC,SAAO,GAFkB;AAGzBC,UAAQ,GAHiB;AAIzBC,aAAW,SAJc;AAKzBC,cAAY,SALa;AAMzBC,gBAAcR,OAAOS,YAAP,CAAoBC;AANT,CAAf,CAAZ;;AASA,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAC5B,MAAIC,MAAM,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,EAA6C,GAA7C,CAAV;AACA,MAAIG,IAAIC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCP,GAAvC,CAAR;AACA,MAAIE,KAAK,IAAT,EAAe,OAAOM,SAASN,EAAE,CAAF,CAAT,CAAP;AACf,SAAO,IAAP;AACD;;AAED,IAAIO,SAAS5B,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAI4B,SAAS7B,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAI6B,UAAU9B,SAASC,cAAT,CAAwB,SAAxB,CAAd;AACA,IAAI8B,UAAU/B,SAASC,cAAT,CAAwB,SAAxB,CAAd;;AAEA,IAAIgB,eAAe,SAAf,KAA6B,CAAjC,EAAoC;AAClCW,SAAOI,KAAP,CAAaC,OAAb,GAAuB,cAAvB;AACAJ,SAAOG,KAAP,CAAaC,OAAb,GAAuB,cAAvB;AACD,CAHD,MAGO,IAAIhB,eAAe,SAAf,KAA6B,CAAjC,EAAoC;AACzCa,UAAQE,KAAR,CAAcC,OAAd,GAAwB,cAAxB;AACAF,UAAQC,KAAR,CAAcC,OAAd,GAAwB,cAAxB;AACD,CAHM,MAGA;AACLL,SAAOI,KAAP,CAAaC,OAAb,GAAuB,cAAvB;AACAJ,SAAOG,KAAP,CAAaC,OAAb,GAAuB,cAAvB;AACAH,UAAQE,KAAR,CAAcC,OAAd,GAAwB,cAAxB;AACAF,UAAQC,KAAR,CAAcC,OAAd,GAAwB,cAAxB;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"charge.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/9.\r\n */\r\n\r\n// 引入http message\r\nconst message = _require('message');\r\nconst http = _require('http');\r\n// 定义变量\r\nconst qr = document.getElementById('qr');\r\n// const refresh = document.getElementById('refresh');\r\n// 引入浏览器特性处理\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch();\r\nbrowser.set_html_size();\r\nlet qrImg = new QRCode(qr, {\r\n  text: pageData.payUrl,\r\n  width: 180,\r\n  height: 180,\r\n  colorDark: \"#000000\",\r\n  colorLight: \"#ffffff\",\r\n  correctLevel: QRCode.CorrectLevel.H\r\n});\r\n\r\nfunction getQueryString(name) {\r\n  let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n  let r = window.location.search.substr(1).match(reg);\r\n  if (r != null) return unescape(r[2]);\r\n  return null;\r\n}\r\n\r\nlet wxLogo = document.getElementById('wxLogo');\r\nlet wxText = document.getElementById('wxText');\r\nlet zfbLogo = document.getElementById('zfbLogo');\r\nlet zfbText = document.getElementById('zfbText');\r\n\r\nif (getQueryString('payType') == 1) {\r\n  wxLogo.style.display = 'inline-block';\r\n  wxText.style.display = 'inline-block';\r\n} else if (getQueryString('payType') == 2) {\r\n  zfbLogo.style.display = 'inline-block';\r\n  zfbText.style.display = 'inline-block';\r\n} else {\r\n  wxLogo.style.display = 'inline-block';\r\n  wxText.style.display = 'inline-block';\r\n  zfbLogo.style.display = 'inline-block';\r\n  zfbText.style.display = 'inline-block';\r\n}\r\n\r\n// refresh.addEventListener('click', function () {\r\n//   http.post('/trade/dcReceipt', {\r\n//     totalFee: pageData.amount,\r\n//     payChannel: getQueryString('payChannel')\r\n//   }, function (data) {\r\n//     qrImg.makeCode(data.payUrl);\r\n//     message.prompt_show('刷新成功');\r\n//   })\r\n// });"]}