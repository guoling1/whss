{"version":3,"sources":["payment.js"],"names":["browser","_require","elastic_touch","message","Keyboard","spanId","inputId","keyboardId","isSelf","pageData","selfId","notSelfId","amount","is_weixin","ua","navigator","userAgent","toLowerCase","match","layerSelf","document","getElementById","cancelSelf","submitSelf","addEventListener","style","display","window","location","href","layerNotSelf","cancelNotSelf","submitNotSelf","WeixinJSBridge","call","AlipayJSBridge"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,UAAUC,SAAS,SAAT,CAAhB;AACAD,QAAQE,aAAR;AACA;AACA,IAAMC,UAAUF,SAAS,SAAT,CAAhB;AACA,IAAMG,WAAWH,SAAS,UAAT,CAAjB;AACA,IAAIG,QAAJ,CAAa;AACXC,UAAQ,UADG;AAEXC,WAAS,WAFE;AAGXC,cAAY,UAHD;AAIXC,UAAQC,SAASD,MAJN;AAKXE,UAAQ,WALG;AAMXC,aAAW,cANA;AAOXC,UAAQ;AAPG,CAAb;;AAUA,SAASC,SAAT,GAAqB;AACnB,MAAIC,KAAKC,UAAUC,SAAV,CAAoBC,WAApB,EAAT;AACA,SAAQH,GAAGI,KAAH,CAAS,iBAAT,KAA+B,gBAAvC;AACD;;AAED,IAAIT,SAASD,MAAT,IAAmB,CAAvB,EAA0B;AACxB,MAAIW,YAAYC,SAASC,cAAT,CAAwB,WAAxB,CAAhB;AACA,MAAIC,aAAaF,SAASC,cAAT,CAAwB,YAAxB,CAAjB;AACA,MAAIE,aAAaH,SAASC,cAAT,CAAwB,YAAxB,CAAjB;AACAC,aAAWE,gBAAX,CAA4B,OAA5B,EAAqC,YAAY;AAC/CL,cAAUM,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACD,GAFD;AAGAH,aAAWC,gBAAX,CAA4B,OAA5B,EAAqC,YAAY;AAC/CG,WAAOC,QAAP,CAAgBC,IAAhB,GAAuB,iBAAvB;AACD,GAFD;AAGD;AACD,IAAIC,eAAeV,SAASC,cAAT,CAAwB,cAAxB,CAAnB;AACA,IAAIU,gBAAgBX,SAASC,cAAT,CAAwB,eAAxB,CAApB;AACA,IAAIW,gBAAgBZ,SAASC,cAAT,CAAwB,eAAxB,CAApB;AACAU,cAAcP,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AAClDM,eAAaL,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACD,CAFD;AAGAM,cAAcR,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AAClD,MAAIX,WAAJ,EAAiB;AACfoB,mBAAeC,IAAf,CAAoB,aAApB;AACD,GAFD,MAEO;AACLC,mBAAeD,IAAf,CAAoB,cAApB;AACD;AACF,CAND","file":"payment.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/8.\r\n */\r\n\r\n// 引入浏览器特性处理\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch();\r\n// 引入http message\r\nconst message = _require('message');\r\nconst Keyboard = _require('keyboard');\r\nnew Keyboard({\r\n  spanId: 'key-span',\r\n  inputId: 'key-input',\r\n  keyboardId: 'keyboard',\r\n  isSelf: pageData.isSelf,\r\n  selfId: 'layerSelf',\r\n  notSelfId: 'layerNotSelf',\r\n  amount: '2000'\r\n});\r\n\r\nfunction is_weixin() {\r\n  let ua = navigator.userAgent.toLowerCase();\r\n  return (ua.match(/MicroMessenger/i) == \"micromessenger\");\r\n}\r\n\r\nif (pageData.isSelf == 1) {\r\n  let layerSelf = document.getElementById('layerSelf');\r\n  let cancelSelf = document.getElementById('cancelSelf');\r\n  let submitSelf = document.getElementById('submitSelf');\r\n  cancelSelf.addEventListener('click', function () {\r\n    layerSelf.style.display = 'none';\r\n  });\r\n  submitSelf.addEventListener('click', function () {\r\n    window.location.href = '/sqb/collection';\r\n  })\r\n}\r\nlet layerNotSelf = document.getElementById('layerNotSelf');\r\nlet cancelNotSelf = document.getElementById('cancelNotSelf');\r\nlet submitNotSelf = document.getElementById('submitNotSelf');\r\ncancelNotSelf.addEventListener('click', function () {\r\n  layerNotSelf.style.display = 'none';\r\n});\r\nsubmitNotSelf.addEventListener('click', function () {\r\n  if (is_weixin()) {\r\n    WeixinJSBridge.call('closeWindow');\r\n  } else {\r\n    AlipayJSBridge.call('closeWebview');\r\n  }\r\n});"]}