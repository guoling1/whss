{"version":3,"sources":["notisDetails.js"],"names":["message","_require","http","tools","browser","elastic_touch","query","GetUrlArg","title","document","getElementById","date","context","changeTitle","body","getElementsByTagName","iframe","createElement","className","setAttribute","addEventListener","$timeout","removeEventListener","removeChild","appendChild","post","id","data","innerHTML","dateFormat","createTime","text"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,UAAUC,SAAS,SAAT,CAAhB;AACA,IAAMC,OAAOD,SAAS,MAAT,CAAb;AACA,IAAME,QAAQF,SAAS,OAAT,CAAd;AACA;AACA,IAAMG,UAAUH,SAAS,SAAT,CAAhB;AACAG,QAAQC,aAAR,CAAsB,eAAtB;AACA;AACA,IAAIC,QAAQH,MAAMI,SAAN,EAAZ;AACA,IAAIC,QAAQC,SAASC,cAAT,CAAwB,OAAxB,CAAZ;AACA,IAAIC,OAAOF,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACA,IAAIE,UAAUH,SAASC,cAAT,CAAwB,SAAxB,CAAd;;AAEA,IAAIG,cAAc,SAAdA,WAAc,CAAUL,KAAV,EAAiB;AACjC,MAAIM,OAAOL,SAASM,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAX;AACA,MAAI,CAACP,KAAL,EAAY;AACVC,aAASD,KAAT,GAAiB,KAAjB;AACD,GAFD,MAEO;AACLC,aAASD,KAAT,GAAiBA,KAAjB;AACD;AACD,MAAIQ,SAASP,SAASQ,aAAT,CAAuB,QAAvB,CAAb;AACAD,SAAOE,SAAP,GAAmB,MAAnB;AACAF,SAAOG,YAAP,CAAoB,KAApB,EAA2B,qBAA3B;AACAH,SAAOI,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAC1CC,aAAS,YAAY;AACnBL,aAAOM,mBAAP,CAA2B,MAA3B,EAAmC,YAAY,CAC9C,CADD;AAEAb,eAASK,IAAT,CAAcS,WAAd,CAA0BP,MAA1B;AACD,KAJD,EAIG,CAJH;AAKD,GAND;AAOAP,WAASK,IAAT,CAAcU,WAAd,CAA0BR,MAA1B;AACD,CAlBD;;AAoBAd,KAAKuB,IAAL,CAAU,uBAAV,EAAmC;AACjCC,MAAIpB,MAAMoB;AADuB,CAAnC,EAEG,UAAUC,IAAV,EAAgB;AACjBd,cAAYc,KAAKnB,KAAjB;AACAA,QAAMoB,SAAN,GAAkBD,KAAKnB,KAAvB;AACAG,OAAKiB,SAAL,GAAiBzB,MAAM0B,UAAN,CAAiB,qBAAjB,EAAwCF,KAAKG,UAA7C,CAAjB;AACAlB,UAAQgB,SAAR,GAAoBD,KAAKI,IAAzB;AACD,CAPD","file":"notisDetails.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/13.\r\n */\r\n\r\n// 引入 message http\r\nconst message = _require('message');\r\nconst http = _require('http');\r\nconst tools = _require('tools');\r\n// 引入浏览器特性处理\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch('noticeDetails');\r\n// 定义ajax事件\r\nlet query = tools.GetUrlArg();\r\nlet title = document.getElementById('title');\r\nlet date = document.getElementById('date');\r\nlet context = document.getElementById('context');\r\n\r\nlet changeTitle = function (title) {\r\n  let body = document.getElementsByTagName('body')[0];\r\n  if (!title) {\r\n    document.title = '好收收';\r\n  } else {\r\n    document.title = title;\r\n  }\r\n  let iframe = document.createElement(\"iframe\");\r\n  iframe.className = 'none';\r\n  iframe.setAttribute(\"src\", \"/app/imgs/bingo.png\");\r\n  iframe.addEventListener('load', function () {\r\n    $timeout(function () {\r\n      iframe.removeEventListener('load', function () {\r\n      });\r\n      document.body.removeChild(iframe);\r\n    }, 0);\r\n  });\r\n  document.body.appendChild(iframe);\r\n};\r\n\r\nhttp.post('/notice/noticeDetails', {\r\n  id: query.id\r\n}, function (data) {\r\n  changeTitle(data.title);\r\n  title.innerHTML = data.title;\r\n  date.innerHTML = tools.dateFormat('YYYY-MM-DD HH:mm:ss', data.createTime);\r\n  context.innerHTML = data.text;\r\n});"]}