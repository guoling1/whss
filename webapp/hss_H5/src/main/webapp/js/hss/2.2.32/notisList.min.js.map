{"version":3,"sources":["notisList.js"],"names":["message","_require","http","tools","browser","elastic_touch","content","document","getElementById","list","createElement","nowPage","more","className","innerHTML","style","display","height","lineHeight","fontSize","color","backgroundColor","addEventListener","getData","appendChild","e","page","post","productType","pageNo","pageSize","res","console","log","records","i","div_list","onclick","window","location","href","id","div_icon","type","div_info","div_top","title","div_bottom","dates","div_right","length","hasNextPage","insertBefore","childNodes"],"mappings":"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","file":"notisList.min.js","sourcesContent":["/**\r\n * Created by administrator on 2016/12/13.\r\n */\r\n\r\n// 引入 message http\r\nconst message = _require('message');\r\nconst http = _require('http');\r\nconst tools = _require('tools');\r\n// 引入浏览器特性处理\r\nconst browser = _require('browser');\r\nbrowser.elastic_touch('list-box');\r\n// 定义ajax事件\r\nlet content = document.getElementById('content');\r\nlet list = document.createElement('list');\r\nlet nowPage = 1;\r\nlet more = document.createElement('div');\r\nmore.className = 'touch_more';\r\nmore.innerHTML = '加载更多';\r\nmore.style.display = 'none';\r\nmore.style.height = '50px';\r\nmore.style.lineHeight = '50px';\r\nmore.style.fontSize = '16px';\r\nmore.style.color = '#999';\r\nmore.style.backgroundColor = '#f4f5f8';\r\nmore.addEventListener('touchstart', function () {\r\n  more.style.backgroundColor = '#d8d7dc';\r\n});\r\nmore.addEventListener('touchend', function () {\r\n  more.style.backgroundColor = '#f4f5f8';\r\n});\r\nmore.addEventListener('click', function () {\r\n  getData(null, nowPage + 1);\r\n});\r\ncontent.appendChild(more);\r\n\r\nlet getData = function (e, page) {\r\n  // 检查page 如果page为1 清空content数据\r\n  nowPage = page || 1;\r\n  if (nowPage == 1) {\r\n    list.innerHTML = '';\r\n  }\r\n  http.post('/notice/noticeList', {\r\n    productType: 'hss',\r\n    pageNo: nowPage,\r\n    pageSize: 20\r\n  }, function (res) {\r\n    console.log(res.records);\r\n    for (let i = 0; i < res.records.length; i++) {\r\n      let div_list = document.createElement('div');\r\n      div_list.className = 'list-li';\r\n      div_list.onclick = function () {\r\n        window.location.href = '/notice/noticeDetailsJSP?id=' + res.records[i].id;\r\n      };\r\n      let div_icon = document.createElement('div');\r\n      if (res.records[i].type == 1) {\r\n        div_icon.className = 'list-icon notice2';\r\n      } else {\r\n        div_icon.className = 'list-icon notice1';\r\n      }\r\n      let div_info = document.createElement('div');\r\n      div_info.className = 'list-info';\r\n      let div_top = document.createElement('div');\r\n      div_top.className = 'top';\r\n      div_top.innerHTML = res.records[i].title;\r\n      let div_bottom = document.createElement('div');\r\n      div_bottom.className = 'bottom';\r\n      div_bottom.innerHTML = res.records[i].dates;\r\n      div_info.appendChild(div_top);\r\n      div_info.appendChild(div_bottom);\r\n      let div_right = document.createElement('div');\r\n      div_right.className = 'list-right';\r\n      div_list.appendChild(div_icon);\r\n      div_list.appendChild(div_info);\r\n      div_list.appendChild(div_right);\r\n      list.appendChild(div_list);\r\n    }\r\n    // 判断是否还有下一页\r\n    if (res.hasNextPage) {\r\n      more.style.display = 'block';\r\n    } else {\r\n      more.style.display = 'none';\r\n    }\r\n    content.insertBefore(list, content.childNodes[0]);\r\n  })\r\n};\r\n// 初始化数据\r\ngetData();\r\n"]}