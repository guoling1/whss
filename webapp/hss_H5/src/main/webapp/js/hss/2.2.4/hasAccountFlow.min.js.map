{"version":3,"sources":["hasAccountFlow.js"],"names":["AnimationCountdown","_require","countdown","validate","message","http","empty","document","getElementById","content","list","createElement","nowPage","more","className","innerHTML","style","display","height","lineHeight","fontSize","color","backgroundColor","addEventListener","getData","appendChild","e","page","post","pageNo","pageSize","res","count","i","records","length","div_list","div_left","div_top","div_span","incomeAmount","div_spanS","remark","div_bottom","createTime","div_right","outAmount","hasNextPage","insertBefore","childNodes"],"mappings":"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","file":"hasAccountFlow.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入动画模版 处理验证码\nconst AnimationCountdown = _require('art-countdown');\nlet countdown = new AnimationCountdown('sendCode', '重新获取');\n// 引入http message\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n\n// 定义ajax事件\nlet empty = document.getElementById('empty');\nlet content = document.getElementById('content');\nlet list = document.createElement('list');\nlet nowPage = 1;\nlet more = document.createElement('div');\nmore.className = 'touch_more';\nmore.innerHTML = '加载更多';\nmore.style.display = 'none';\nmore.style.height = '50px';\nmore.style.lineHeight = '50px';\nmore.style.fontSize = '16px';\nmore.style.color = '#999';\nmore.style.backgroundColor = '#f4f5f8';\nmore.addEventListener('touchstart', function () {\n  more.style.backgroundColor = '#d8d7dc';\n});\nmore.addEventListener('touchend', function () {\n  more.style.backgroundColor = '#f4f5f8';\n});\nmore.addEventListener('click', function () {\n  getData(null, nowPage + 1);\n});\ncontent.appendChild(more);\n\nlet getData = function (e, page) {\n  // 检查page 如果page为1 清空content数据\n  nowPage = page || 1;\n  if (nowPage == 1) {\n    list.innerHTML = '';\n  }\n  http.post('/account/flowDetails', {\n    pageNo: nowPage,\n    pageSize: 20\n  }, function (res) {\n    if (res.count == 0) {\n      empty.style.display = 'block';\n      return;\n    }\n    empty.style.display = 'none';\n    for (let i = 0; i < res.records.length; i++) {\n      let div_list = document.createElement('div');\n      div_list.className = 'flow-group';\n      let div_left = document.createElement('div');\n      div_left.className = 'flow-left';\n      let div_top = document.createElement('div');\n      div_top.className = 'flow-top';\n      let div_span = document.createElement('span');\n      if (res.records[i].incomeAmount > 0) {\n        div_span.innerHTML = '收入';\n      } else {\n        div_span.innerHTML = '提现';\n      }\n      let div_spanS = document.createElement('span');\n      div_spanS.className = 's';\n      div_spanS.innerHTML = res.records[i].remark;\n      div_top.appendChild(div_span);\n      div_top.appendChild(div_spanS);\n      let div_bottom = document.createElement('div');\n      div_bottom.className = 'flow-bottom';\n      div_bottom.innerHTML = res.records[i].createTime;\n      div_left.appendChild(div_top);\n      div_left.appendChild(div_bottom);\n      let div_right = document.createElement('div');\n      if (res.records[i].incomeAmount > 0) {\n        div_right.className = 'flow-right green';\n        div_right.innerHTML = '+' + res.records[i].incomeAmount;\n      } else {\n        div_right.className = 'flow-right red';\n        div_right.innerHTML = '-' + res.records[i].outAmount;\n      }\n      div_list.appendChild(div_left);\n      div_list.appendChild(div_right);\n      list.appendChild(div_list);\n    }\n    // 判断是否还有下一页\n    if (res.hasNextPage) {\n      more.style.display = 'block';\n    } else {\n      more.style.display = 'none';\n    }\n    content.insertBefore(list, content.childNodes[0]);\n  })\n};\n// 初始化数据\ngetData();"]}