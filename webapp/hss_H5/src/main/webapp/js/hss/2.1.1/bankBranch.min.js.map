{"version":3,"sources":["bankBranch.js"],"names":["http","_require","message","browser","elastic_touch","color","document","getElementById","logo","client_h","body","clientHeight","layer_w","layer_w_list","layer_b","layer_b_list","submit","world","branch","match_ipt","p","c","ct","Provinces","Citys","Countrys","layer","cancel","addEventListener","window","location","href","layerC","cancelcC","getQueryString","name","reg","RegExp","r","search","substr","match","unescape","pageData","provinceCode","provinceName","cityCode","cityName","countyCode","countyName","branchCode","branchName","value","onclick","post","style","display","prompt_show","rect_b","getBoundingClientRect","height","top","focus","e","ev","target","test","contions","data","innerHTML","console","log","i","div_branch","createElement","className","appendChild","length","ProvincesSet","rect_w","div_Provinces","aname","code","CitysSet","div_Citys","CountrysSet","div_Countrys","bankCardBin","bankLogoColor","HasBank","bin","index"],"mappings":"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","file":"bankBranch.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入浏览器特性处理\nconst http = _require('http');\nconst message = _require('message');\nconst browser = _require('browser');\nbrowser.elastic_touch();\n// 定义变量\nconst color = document.getElementById('color');\nconst logo = document.getElementById('logo');\n// 获取屏幕高度 确定搜索栏位置\nlet client_h = document.body.clientHeight;\nlet layer_w = document.getElementById('layer-w');\nlet layer_w_list = document.getElementById('layer-w-list');\nlet layer_b = document.getElementById('layer-b');\nlet layer_b_list = document.getElementById('layer-b-list');\n// 定义输入框\nlet submit = document.getElementById('submit');\nlet world = document.getElementById('world');\nlet branch = document.getElementById('branch');\nlet match_ipt = document.getElementById('match_ipt');\n// 定义选择框\nlet p = document.getElementById('p');\nlet c = document.getElementById('c');\nlet ct = document.getElementById('ct');\n\nlet Provinces = false;\nlet Citys = false;\nlet Countrys = false;\n\nlet layer = document.getElementById('layer');\nlet cancel = document.getElementById('cancel');\n\ncancel.addEventListener('click', function () {\n  window.location.href = '/sqb/wallet';\n});\n\nlet layerC = document.getElementById('layerC');\nlet cancelcC = document.getElementById('cancelC');\n\ncancelcC.addEventListener('click', function () {\n  window.location.href = '/sqb/creditCardAuthen?card=true';\n});\n\nfunction getQueryString(name) {\n  let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n  let r = window.location.search.substr(1).match(reg);\n  if (r != null) return unescape(r[2]);\n  return null;\n}\n\n// 处理 初始化 的过程\nif (pageData.provinceCode != '' &&\n  pageData.provinceName != '' &&\n  pageData.cityCode != '' &&\n  pageData.cityName != '' &&\n  pageData.countyCode != '' &&\n  pageData.countyName != '' &&\n  pageData.branchCode != '' &&\n  pageData.branchName != '') {\n  world.value = pageData.provinceName + pageData.cityName + pageData.countyName;\n  branch.value = pageData.branchName;\n}\n\n\nsubmit.onclick = function () {\n  http.post('/wx/branchInfo', {\n    branchCode: pageData.branchCode,\n    branchName: pageData.branchName,\n    provinceCode: pageData.provinceCode,\n    provinceName: pageData.provinceName,\n    cityCode: pageData.cityCode,\n    cityName: pageData.cityName,\n    countyCode: pageData.countyCode,\n    countyName: pageData.countyName\n  }, function () {\n    if (getQueryString('card')) {\n      layerC.style.display = 'block';\n    } else if (getQueryString('branch')) {\n      layer.style.display = 'block';\n    } else {\n      window.location.href = '/sqb/bank';\n    }\n  })\n};\n\nbranch.onclick = function () {\n  if (!pageData.countyName || pageData.countyName == '') {\n    message.prompt_show('请先选择支行地区');\n    return false;\n  }\n  layer_b.style.display = 'block';\n  let rect_b = layer_b.getBoundingClientRect();\n  layer_b.style.height = (client_h - rect_b.top) + 'px';\n  layer_b_list.style.height = (client_h - rect_b.top - 50) + 'px';\n  match_ipt.focus();\n};\n\nmatch_ipt.addEventListener('input', function (e) {\n  let ev = e.target;\n  if (/[\\u4e00-\\u9fa5]{2,50}/.test(ev.value)) {\n    http.post('/bankBranch/getBankBranch', {\n      contions: ev.value,\n      provinceName: pageData.provinceName,\n      cityName: pageData.cityName\n    }, function (data) {\n      layer_b_list.innerHTML = '';\n      console.log(data);\n      for (let i = 0; i < data.length; i++) {\n        let div_branch = document.createElement('div');\n        div_branch.className = 't';\n        div_branch.innerHTML = data[i].branchName;\n        div_branch.onclick = function () {\n          branch.value = data[i].branchName;\n          pageData.branchCode = data[i].branchCode;\n          pageData.branchName = data[i].branchName;\n          layer_b.style.display = 'none';\n        };\n        layer_b_list.appendChild(div_branch);\n      }\n    })\n  }\n});\n\nworld.onclick = function () {\n  if (!Provinces) {\n    // 如果不存在 则去获取数据\n    http.post('/district/findAllProvinces', {}, function (data) {\n      Provinces = data;\n      ProvincesSet();\n    })\n  } else {\n    ProvincesSet();\n  }\n  branch.value = '';\n  layer_b_list.innerHTML = '';\n  layer_w.style.display = 'block';\n  let rect_w = layer_w.getBoundingClientRect();\n  layer_w.style.height = (client_h - rect_w.top) + 'px';\n  layer_w_list.style.height = (client_h - rect_w.top - 100) + 'px';\n};\n\n// Provinces 部署事件\nlet ProvincesSet = function () {\n  layer_w_list.innerHTML = '';\n  for (let i = 0; i < Provinces.length; i++) {\n    let div_Provinces = document.createElement('div');\n    div_Provinces.innerHTML = Provinces[i].aname;\n    div_Provinces.onclick = function () {\n      p.className = '';\n      p.innerHTML = Provinces[i].aname;\n      pageData.provinceCode = Provinces[i].code;\n      pageData.provinceName = Provinces[i].aname;\n      if (!Citys || !Citys[Provinces[i].code]) {\n        http.post('/district/findAllCity', {code: Provinces[i].code}, function (data) {\n          Citys = {};\n          Citys[Provinces[i].code] = data;\n          CitysSet(Provinces[i].code);\n        })\n      } else {\n        CitysSet(Provinces[i].code);\n      }\n    };\n    layer_w_list.appendChild(div_Provinces);\n  }\n  p.className = 'choose';\n  p.style.display = 'inline-block';\n};\n\n// Citys 部署事件\nlet CitysSet = function (code) {\n  layer_w_list.innerHTML = '';\n  for (let i = 0; i < Citys[code].length; i++) {\n    let div_Citys = document.createElement('div');\n    div_Citys.innerHTML = Citys[code][i].aname;\n    div_Citys.onclick = function () {\n      c.className = '';\n      c.innerHTML = Citys[code][i].aname;\n      pageData.cityCode = Citys[code][i].code;\n      pageData.cityName = Citys[code][i].aname;\n      if (!Countrys || !Countrys[Citys[code][i].code]) {\n        http.post('/district/findAllCounty', {code: Citys[code][i].code}, function (data) {\n          Countrys = {};\n          Countrys[Citys[code][i].code] = data;\n          CountrysSet(Citys[code][i].code);\n        })\n      } else {\n        CountrysSet(Citys[code][i].code);\n      }\n    };\n    layer_w_list.appendChild(div_Citys);\n  }\n  c.className = 'choose';\n  c.style.display = 'inline-block';\n};\n\n// Countrys 部署事件\nlet CountrysSet = function (code) {\n  layer_w_list.innerHTML = '';\n  for (let i = 0; i < Countrys[code].length; i++) {\n    let div_Countrys = document.createElement('div');\n    div_Countrys.innerHTML = Countrys[code][i].aname;\n    div_Countrys.onclick = function () {\n      ct.className = '';\n      ct.innerHTML = Countrys[code][i].aname;\n      pageData.countyCode = Countrys[code][i].code;\n      pageData.countyName = Countrys[code][i].aname;\n      world.value = pageData.provinceName + pageData.cityName + pageData.countyName;\n      layer_w.style.display = 'none';\n    };\n    layer_w_list.appendChild(div_Countrys);\n  }\n  ct.className = 'choose';\n  ct.style.display = 'inline-block';\n};\n\n// 卡bin和颜色一一对应\nlet bankCardBin = ['ABC', 'BANKCOMM', 'BOC', 'CCB', 'CEB', 'CGB', 'CIB', 'CITIC', 'CMB', 'CMBC', 'ICBC', 'PINGAN', 'PSBC', 'SHBANK'];\nlet bankLogoColor = ['green', 'blue', 'red', 'blue', 'red', 'red', 'blue', 'red', 'red', 'red', 'red', 'red', 'green', 'red'];\n\nlet HasBank = () => {\n  for (let i = 0; i < bankCardBin.length; i++) {\n    if (bankCardBin[i] == pageData.bin) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nlet index = HasBank();\n\nif (index != -1) {\n  color.className = 'group ' + bankLogoColor[index];\n  logo.className = 'logo ' + pageData.bin;\n} else {\n  color.className = 'group red';\n  logo.className = 'logo DEFAULT';\n}"]}