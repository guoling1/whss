{"version":3,"sources":["tradeRecord.js"],"names":["message","_require","http","TimePicker","browser","elastic_touch","Paging","content","url","size","startDate","endDate","query","document","getElementById","unfold","cancel","submit","addEventListener","className","payVariable","paySuccess","status","value","payError","payWait","payWx","payAli","payQuick","li","getElementsByClassName","i","length","variable","getAttribute","prompt_show","console","log","indexOf","payStatus","payType","push","post","pageNo","pageSize","orderNo","data"],"mappings":"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","file":"tradeRecord.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/13.\n */\n\n// 引入 message http\nconst message = _require('message');\nconst http = _require('http');\n// 引入时间选择器\nconst TimePicker = _require('timePicker');\nnew TimePicker('dateFrom');\nnew TimePicker('dateTo');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch('list');\n// 引入分页插件\nconst Paging = _require('paging');\nnew Paging('trade_record', {\n  content: 'content',\n  url: '/trade/queryMerchantPayOrders',\n  size: 20,\n  startDate: 'dateFrom',\n  endDate: 'dateTo'\n});\n// 定义变量\nlet query = document.getElementById('query');\nlet unfold = document.getElementById('unfold');\nlet cancel = document.getElementById('cancel');\nlet submit = document.getElementById('submit');\nunfold.addEventListener('click', function () {\n  query.className = 'query flexBox flex-box-column active';\n});\ncancel.addEventListener('click', function () {\n  query.className = 'query';\n});\n// 定义筛选条件\nlet payVariable = {\n  paySuccess: {\n    status: true,\n    value: 4\n  },\n  payError: {\n    status: false,\n    value: 3\n  },\n  payWait: {\n    status: false,\n    value: 1\n  },\n  payWx: {\n    status: true,\n    value: 'H'\n  },\n  payAli: {\n    status: true,\n    value: 'Z'\n  },\n  payQuick: {\n    status: true,\n    value: 'B'\n  }\n};\nlet li = document.getElementsByClassName('li');\nfor (let i = 0; i < li.length; i++) {\n  li[i].addEventListener('click', function () {\n    // 处理变量\n    let variable = this.getAttribute('y-variable');\n    payVariable[variable]['status'] = !payVariable[variable]['status'];\n    // 处理变量唯一性\n    if (!payVariable.paySuccess.status && !payVariable.payError.status && !payVariable.payError.status) {\n      message.prompt_show('至少选择一种支付状态');\n      payVariable[variable]['status'] = !payVariable[variable]['status'];\n      console.log(payVariable);\n      return;\n    }\n    if (!payVariable.payWx.status && !payVariable.payAli.status && !payVariable.payQuick.status) {\n      message.prompt_show('至少选择一种支付方式');\n      payVariable[variable]['status'] = !payVariable[variable]['status'];\n      console.log(payVariable);\n      return;\n    }\n    // 处理样式\n    if (this.className.indexOf('active') > -1) {\n      this.className = 'li';\n    } else {\n      this.className = 'li active';\n    }\n  })\n}\n// 定义传输变量\nlet payStatus = ['4'];\nlet payType = ['H', 'Z', 'B'];\nsubmit.addEventListener('click', function () {\n  // 处理请求数据\n  payStatus = [];\n  payType = [];\n  for (let i in payVariable) {\n    if (payVariable[i]['status']) {\n      if (typeof (payVariable[i]['value']) == 'number') {\n        payStatus.push(payVariable[i]['value'])\n      } else if (typeof (payVariable[i]['value']) == 'string') {\n        payType.push(payVariable[i]['value'])\n      }\n    }\n  }\n  // 唤起请求事件\n  http.post('/trade/queryMerchantPayOrders', {\n    pageNo: 1,\n    pageSize: 20,\n    orderNo: '',  //交易订单号\n    payStatus: payStatus,   //支付状态（1：待支付，3：支付失败，4：支付成功）\n    payType: payType,    //支付方式\n    startDate: '',\n    endDate: ''\n  }, function (data) {\n    console.log(data);\n  })\n});\n"]}