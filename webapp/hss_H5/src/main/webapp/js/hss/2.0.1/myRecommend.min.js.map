{"version":3,"sources":["myRecommend.js"],"names":["message","_require","http","qr","document","getElementById","shareShow","layer","profits","profitsBtn","friends","friendsBtn","directCount","indirectCount","windows","browser","elastic_touch","addEventListener","style","display","left","className","profitsLastX","profitsTouchX","event","touches","clientX","preventDefault","friendsLastX","friendsTouchX","post","data","console","log","innerHTML","i","recommends","length","list","createElement","name","span","type","appendChild","amount","statusName","QRCode","text","pageData","shareUrl","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H"],"mappings":"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","file":"myRecommend.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/9.\n */\n\n// 引入http message\nconst message = _require('message');\nconst http = _require('http');\n// 定义变量\nconst qr = document.getElementById('qr');\nconst shareShow = document.getElementById('shareShow');\nconst layer = document.getElementById('layer');\nconst profits = document.getElementById('profits');\nconst profitsBtn = document.getElementById('profitsBtn');\nconst friends = document.getElementById('friends');\nconst friendsBtn = document.getElementById('friendsBtn');\nconst directCount = document.getElementById('directCount');\nconst indirectCount = document.getElementById('indirectCount');\nconst windows = document.getElementById('windows');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n\nshareShow.addEventListener('click', function () {\n  layer.style.display = 'block';\n});\n\nlayer.addEventListener('click', function () {\n  layer.style.display = 'none';\n});\n\n// 分润点击\nprofitsBtn.addEventListener('click', function () {\n  windows.style.left = '0';\n  profitsBtn.className = 'space shadow-right';\n  friendsBtn.className = 'space shadow-left disabled';\n});\n// 分润滑动\nlet profitsLastX, profitsTouchX;\nprofits.addEventListener('touchstart', function (event) {\n  profitsLastX = event.touches[0].clientX;\n});\nprofits.addEventListener('touchmove', function (event) {\n  profitsTouchX = event.touches[0].clientX;\n  if (profitsTouchX <= profitsLastX - 100) {\n    windows.style.left = '-100%';\n    profitsBtn.className = 'space shadow-right disabled';\n    friendsBtn.className = 'space shadow-left';\n    event.preventDefault();\n  }\n});\n\n// 推广的好友点击\nfriendsBtn.addEventListener('click', function () {\n  windows.style.left = '-100%';\n  profitsBtn.className = 'space shadow-right disabled';\n  friendsBtn.className = 'space shadow-left';\n});\n// 推广的好友滑动\nlet friendsLastX, friendsTouchX;\nfriends.addEventListener('touchstart', function (event) {\n  friendsLastX = event.touches[0].clientX;\n});\nfriends.addEventListener('touchmove', function (event) {\n  friendsTouchX = event.touches[0].clientX;\n  if (friendsTouchX >= friendsLastX + 100) {\n    windows.style.left = '0';\n    profitsBtn.className = 'space shadow-right';\n    friendsBtn.className = 'space shadow-left disabled';\n    event.preventDefault();\n  }\n});\n// 推广的好友的数据获取\nhttp.post('/wx/myRecommend', {}, function (data) {\n  console.log(data);\n  directCount.innerHTML = data.directCount;\n  indirectCount.innerHTML = data.indirectCount;\n  for (let i = 0; i < data.recommends.length; i++) {\n    let list = document.createElement('div');\n    list.className = 'list';\n    let name = document.createElement('div');\n    name.className = 'name';\n    name.innerHTML = data.recommends[i].name;\n    let span = document.createElement('span');\n    if (data.recommends[i].type == 1) {\n      span.className = 'z';\n      span.innerHTML = '直接';\n    } else {\n      span.className = 'j';\n      span.innerHTML = '间接';\n    }\n    name.appendChild(span);\n    let amount = document.createElement('amount');\n    amount.className = 'amount';\n    amount.innerHTML = data.recommends[i].statusName;\n    list.appendChild(name);\n    list.appendChild(amount);\n    friends.appendChild(list);\n  }\n});\n\nnew QRCode(qr, {\n  text: pageData.shareUrl,\n  width: 210,\n  height: 210,\n  colorDark: \"#000000\",\n  colorLight: \"#ffffff\",\n  correctLevel: QRCode.CorrectLevel.H\n});"]}