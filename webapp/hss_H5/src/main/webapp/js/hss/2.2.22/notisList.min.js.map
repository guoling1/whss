{"version":3,"sources":["notisList.js"],"names":["message","_require","http","tools","browser","elastic_touch","content","document","getElementById","list","createElement","nowPage","more","className","innerHTML","style","display","height","lineHeight","fontSize","color","backgroundColor","addEventListener","getData","appendChild","e","page","post","pageNo","pageSize","res","console","log","records","i","div_list","onclick","window","location","href","id","div_icon","type","div_info","div_top","title","div_bottom","dates","div_right","length","hasNextPage","insertBefore","childNodes"],"mappings":"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","file":"notisList.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/13.\n */\n\n// 引入 message http\nconst message = _require('message');\nconst http = _require('http');\nconst tools = _require('tools');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch('list-box');\n// 定义ajax事件\nlet content = document.getElementById('content');\nlet list = document.createElement('list');\nlet nowPage = 1;\nlet more = document.createElement('div');\nmore.className = 'touch_more';\nmore.innerHTML = '加载更多';\nmore.style.display = 'none';\nmore.style.height = '50px';\nmore.style.lineHeight = '50px';\nmore.style.fontSize = '16px';\nmore.style.color = '#999';\nmore.style.backgroundColor = '#f4f5f8';\nmore.addEventListener('touchstart', function () {\n  more.style.backgroundColor = '#d8d7dc';\n});\nmore.addEventListener('touchend', function () {\n  more.style.backgroundColor = '#f4f5f8';\n});\nmore.addEventListener('click', function () {\n  getData(null, nowPage + 1);\n});\ncontent.appendChild(more);\n\nlet getData = function (e, page) {\n  // 检查page 如果page为1 清空content数据\n  nowPage = page || 1;\n  if (nowPage == 1) {\n    list.innerHTML = '';\n  }\n  http.post('/notice/noticeList', {\n    pageNo: nowPage,\n    pageSize: 20\n  }, function (res) {\n    console.log(res.records);\n    for (let i = 0; i < res.records.length; i++) {\n      let div_list = document.createElement('div');\n      div_list.className = 'list-li';\n      div_list.onclick = function () {\n        window.location.href = '/notice/noticeDetailsJSP?id=' + res.records[i].id;\n      };\n      let div_icon = document.createElement('div');\n      if (res.records[i].type == 1) {\n        div_icon.className = 'list-icon notice2';\n      } else {\n        div_icon.className = 'list-icon notice1';\n      }\n      let div_info = document.createElement('div');\n      div_info.className = 'list-info';\n      let div_top = document.createElement('div');\n      div_top.className = 'top';\n      div_top.innerHTML = res.records[i].title;\n      let div_bottom = document.createElement('div');\n      div_bottom.className = 'bottom';\n      div_bottom.innerHTML = res.records[i].dates;\n      div_info.appendChild(div_top);\n      div_info.appendChild(div_bottom);\n      let div_right = document.createElement('div');\n      div_right.className = 'list-right';\n      div_list.appendChild(div_icon);\n      div_list.appendChild(div_info);\n      div_list.appendChild(div_right);\n      list.appendChild(div_list);\n    }\n    // 判断是否还有下一页\n    if (res.hasNextPage) {\n      more.style.display = 'block';\n    } else {\n      more.style.display = 'none';\n    }\n    content.insertBefore(list, content.childNodes[0]);\n  })\n};\n// 初始化数据\ngetData();\n"]}