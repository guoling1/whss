{"version":3,"sources":["wallet.js"],"names":["message","_require","http","Touch","browser","elastic_touch","layer","document","getElementById","xx","cancel","unbundling","unbundlingSubmit","upgrade","announcement_link","addEventListener","window","location","href","announcement","announcement_text_box","announcement_text","pxPerRem","documentElement","clientWidth","pageData","showRecommend","style","display","post","data","innerHTML","text","replace","announcement_text_box_ClientRect","getBoundingClientRect","initLeft","width","announcement_text_ClientRect","runLeft","setInterval","nowLeft","left","onclick","id","res","prompt_show"],"mappings":"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","file":"wallet.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/9.\n */\n\n// 引入http message\nconst message = _require('message');\nconst http = _require('http');\n// 引入 touch 动画\nconst Touch = _require('touch');\nnew Touch('touch_op', '#4b65a8', 'deep', '0.2');\nnew Touch('touch_gr', '#FFF', 'deep', '0.1');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n// 定义变量\nconst layer = document.getElementById('layer');\nconst xx = document.getElementById('xx');\nconst cancel = document.getElementById('cancel');\nconst unbundling = document.getElementById('unbundling');\nconst unbundlingSubmit = document.getElementById('unbundlingSubmit');\nconst upgrade = document.getElementById('show_upgrade');\nconst announcement_link = document.getElementById('announcement-link');\nannouncement_link.addEventListener('click', function () {\n  window.location.href = \"/notice/noticeListJSP\";\n});\n\n// 公告横向的滚动\nlet announcement = document.getElementById('announcement');\nlet announcement_text_box = document.getElementById('announcement-text-box');\nlet announcement_text = document.getElementById('announcement-text');\n\nconst pxPerRem = document.documentElement.clientWidth;\nupgrade.addEventListener('click', function () {\n  if (pxPerRem >= 350) {\n    window.location.href = '/sqb/upgradeMax';\n  } else {\n    window.location.href = '/sqb/upgradeMin';\n  }\n});\n// 是否展示升级功能\nif (pageData.showRecommend == 2) {\n  document.getElementById('show_recommend').style.display = \"none\";\n  document.getElementById('show_upgrade').style.display = \"none\";\n}\n\n// 获取公告数据\nhttp.post('/notice/pageAnnouncement', {}, function (data) {\n  if (data) {\n    announcement.style.display = 'block';\n    announcement_text.innerHTML = data.text.replace(/<[^>]+>/g, \"\");\n    let announcement_text_box_ClientRect = announcement_text_box.getBoundingClientRect();\n    let initLeft = announcement_text_box_ClientRect.width;\n    let announcement_text_ClientRect = announcement_text.getBoundingClientRect();\n    let runLeft = announcement_text_ClientRect.width;\n    setInterval(function () {\n      let nowLeft = initLeft--;\n      announcement_text.style.left = nowLeft + 'px';\n      if (nowLeft <= -runLeft) {\n        initLeft = announcement_text_box_ClientRect.width;\n      }\n    }, 15);\n    announcement.onclick = function () {\n      window.location.href = '/notice/noticeDetailsJSP?id=' + data.id;\n    };\n  }\n});\n\n// 解绑微信\nunbundling.addEventListener('click', function () {\n  layer.style.display = 'block';\n});\n\nxx.addEventListener('click', function () {\n  layer.style.display = 'none';\n});\n\ncancel.addEventListener('click', function () {\n  layer.style.display = 'none';\n});\n\nunbundlingSubmit.addEventListener('click', function () {\n  http.post('/wx/unbundling', {}, function (res) {\n    message.prompt_show('解绑成功');\n    layer.style.display = 'none';\n    window.location.href = '/sqb/login';\n  })\n});"]}