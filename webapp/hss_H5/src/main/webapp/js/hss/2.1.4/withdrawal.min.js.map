{"version":3,"sources":["withdrawal.js"],"names":["Animation","_require","animation","validate","message","http","next","document","getElementById","layer","xx","submit","sendCode","code","browser","elastic_touch","amount","bank","come","post","data","innerHTML","available","toFixed","bankName","bankNo","withdrawFee","pageData","bookValue","setAttribute","sendcode","url","btn","addEventListener","style","display","click","value","load_show","load_hide","toast_show","setTimeout","window","location","replace"],"mappings":";;AAAA;;;;AAIA;AACA,IAAMA,YAAYC,SAAS,WAAT,CAAlB;AACA,IAAMC,YAAY,IAAIF,SAAJ,EAAlB;AACA;AACA,IAAMG,WAAWF,SAAS,UAAT,CAAjB;AACA,IAAMG,UAAUH,SAAS,SAAT,CAAhB;AACA,IAAMI,OAAOJ,SAAS,MAAT,CAAb;AACA;AACA,IAAMK,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAMC,QAAQF,SAASC,cAAT,CAAwB,OAAxB,CAAd;AACA,IAAME,KAAKH,SAASC,cAAT,CAAwB,IAAxB,CAAX;AACA,IAAMG,SAASJ,SAASC,cAAT,CAAwB,QAAxB,CAAf;AACA,IAAMI,WAAWL,SAASC,cAAT,CAAwB,UAAxB,CAAjB;AACA,IAAMK,OAAON,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA;AACA,IAAMM,UAAUb,SAAS,SAAT,CAAhB;AACAa,QAAQC,aAAR;;AAEA;AACA,IAAIC,SAAST,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAIS,OAAOV,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACA,IAAIU,OAAOX,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACA;AACAH,KAAKc,IAAL,CAAU,eAAV,EAA2B,EAA3B,EAA+B,UAAUC,IAAV,EAAgB;AAC7CJ,SAAOK,SAAP,GAAmBD,KAAKE,SAAL,CAAeC,OAAf,CAAuB,CAAvB,CAAnB;AACAN,OAAKI,SAAL,GAAiBD,KAAKI,QAAL,GAAgB,GAAhB,GAAsBJ,KAAKK,MAA3B,GAAoC,GAArD;AACAP,OAAKG,SAAL,GAAkBD,KAAKE,SAAL,GAAiBF,KAAKM,WAAvB,GAAsC,CAAtC,GAA0C,CAACN,KAAKE,SAAL,GAAiBF,KAAKM,WAAvB,EAAoCH,OAApC,CAA4C,CAA5C,IAAiD,GAA3F,GAAiG,OAAlH;AACD,CAJD;;AAMA;AACA,IAAII,SAASC,SAAT,IAAsB,CAA1B,EAA6B;AAC3BtB,OAAKuB,YAAL,CAAkB,UAAlB,EAA8B,MAA9B;AACD;;AAED;AACA3B,UAAU4B,QAAV,CAAmB;AACjBC,OAAK,qBADY;AAEjBC,OAAK;AAFY,CAAnB;;AAKA1B,KAAK2B,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACzCxB,QAAMyB,KAAN,CAAYC,OAAZ,GAAsB,OAAtB;AACAvB,WAASwB,KAAT;AACD,CAHD;;AAKA1B,GAAGuB,gBAAH,CAAoB,OAApB,EAA6B,YAAY;AACvCxB,QAAMyB,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACD,CAFD;;AAIAxB,OAAOsB,gBAAP,CAAwB,OAAxB,EAAiC,YAAY;AAC3C,MAAI9B,SAASU,IAAT,CAAcA,KAAKwB,KAAnB,CAAJ,EAA+B;AAC7BjC,YAAQkC,SAAR,CAAkB,MAAlB;AACAjC,SAAKc,IAAL,CAAU,cAAV,EAA0B;AACxBN,YAAMA,KAAKwB;AADa,KAA1B,EAEG,YAAY;AACbjC,cAAQmC,SAAR;AACAnC,cAAQoC,UAAR,CAAmB,MAAnB;AACAC,iBAAW,YAAY;AACrBC,eAAOC,QAAP,CAAgBC,OAAhB,CAAwB,aAAxB;AACD,OAFD,EAEG,IAFH;AAGD,KARD;AASD;AACF,CAbD","file":"withdrawal.min.js","sourcesContent":["/**\n * Created by administrator on 2016/12/8.\n */\n\n// 引入动画模版 处理验证码\nconst Animation = _require('animation');\nconst animation = new Animation();\n// 引入http validate message\nconst validate = _require('validate');\nconst message = _require('message');\nconst http = _require('http');\n// 定义变量\nconst next = document.getElementById('next');\nconst layer = document.getElementById('layer');\nconst xx = document.getElementById('xx');\nconst submit = document.getElementById('submit');\nconst sendCode = document.getElementById('sendCode');\nconst code = document.getElementById('code');\n// 引入浏览器特性处理\nconst browser = _require('browser');\nbrowser.elastic_touch();\n\n// 定义变量\nlet amount = document.getElementById('amount');\nlet bank = document.getElementById('bank');\nlet come = document.getElementById('come');\n// 获取数据\nhttp.post('/account/info', {}, function (data) {\n  amount.innerHTML = data.available.toFixed(2);\n  bank.innerHTML = data.bankName + '(' + data.bankNo + ')';\n  come.innerHTML = (data.available - data.withdrawFee) > 0 ? (data.available - data.withdrawFee).toFixed(2) + '元' : '0.00元';\n});\n\n// 判断按钮是否可以点击\nif (pageData.bookValue == 0) {\n  next.setAttribute('disabled', 'true');\n}\n\n// 定义验证码\nanimation.sendcode({\n  url: '/wx/getWithDrawCode',\n  btn: 'sendCode'\n});\n\nnext.addEventListener('click', function () {\n  layer.style.display = 'block';\n  sendCode.click();\n});\n\nxx.addEventListener('click', function () {\n  layer.style.display = 'none';\n});\n\nsubmit.addEventListener('click', function () {\n  if (validate.code(code.value)) {\n    message.load_show('正在校验');\n    http.post('/wx/withdraw', {\n      code: code.value\n    }, function () {\n      message.load_hide();\n      message.toast_show('提现成功');\n      setTimeout(function () {\n        window.location.replace('/sqb/wallet');\n      }, 1000);\n    })\n  }\n});"]}