"use strict";function _require(e){var t=_require.resolve(e),n=_require.modules[t];if(!n)throw new Error('failed to require "'+e+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,_require.relative(t),global)),n.exports}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var global={__allow:!0,__lockUrl:[],__lockCheck:function(e){for(var t=!0,n=0;n<this.__lockUrl.length;n++)e==this.__lockUrl[n]&&(t=!1);return t},__lockNum:function(e){var t=-1;if(e)for(var n=0;n<this.__lockUrl.length;n++)e.indexOf(this.__lockUrl[n])>1&&(t=n);return t},__lockRemove:function(e){if(isNaN(e)||e>this.__lockUrl.length)return!1;for(var t=0,n=0;t<this.__lockUrl.length;t++)this.__lockUrl[t]!=this.__lockUrl[e]&&(this.__lockUrl[n++]=this.__lockUrl[t]);this.__lockUrl.length-=1}};_require.modules={},_require.resolve=function(e){var t=e,n=e+".js",o=e+"/index.js";return _require.modules[n]&&n||_require.modules[o]&&o||t},_require.register=function(e,t){_require.modules[e]=t},_require.relative=function(e){return function(t){if("."!=t.charAt(0))return _require(t);var n=e.split("/"),o=t.split("/");n.pop();for(var r=0;r<o.length;r++){var i=o[r];".."==i?n.pop():"."!=i&&n.push(i)}return _require(n.join("/"))}};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();_require.register("tools",function(e,t,n,o){var r=function(){function e(){_classCallCheck(this,e),console.log("tools 构建成功...")}return _createClass(e,[{key:"dateFormat",value:function(e,t,n){t=t?new Date(t):new Date,/(Y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var o={CHN:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ENG:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AB_ENG:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};/(wk)/.test(e)&&(e=e.replace(RegExp.$1,o[n][t.getDay()]));var r={CHN:["上午","下午"],ENG:["AM","PM"],AB_ENG:["AM","PM"]},i="",a="";/(H+)/.test(e)&&(i=t.getHours(),e=e.replace(RegExp.$1,1==RegExp.$1.length?i:("00"+i).substr((""+i).length))),/(h+)/.test(e)&&(i=t.getHours()>=12?t.getHours()-12:t.getHours(),a=t.getHours()>=12?1:0,e=e.replace(RegExp.$1,1==RegExp.$1.length?i:("00"+i).substr((""+i).length)),/(ap)/.test(e)&&(e=e.replace(RegExp.$1,r[n][a])));var s={"M+":t.getMonth()+1,"D+":t.getDate(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var l in s)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[l]:("00"+s[l]).substr((""+s[l]).length)));return e}},{key:"NumToFix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e).toFixed(t)}},{key:"GetUrlArg",value:function(){var e=location.search,t={};if(-1!=e.indexOf("?"))for(var n=e.substr(1),o=n.split("&"),r=0;r<o.length;r++)t[o[r].split("=")[0]]=o[r].split("=")[1];return t}}]),e}();e.exports=new r});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();_require.register("message",function(e,t,n,o){var r=function(){function e(){_classCallCheck(this,e),o.__allow=!0;var t=document.body;this.prompt=document.createElement("div"),this.prompt.id="prompt",this.prompt.style.display="none",this.prompt.style.width="auto",this.prompt.style.minWidth="200px",this.prompt.style.height="auto",this.prompt.style.fontSize="16px",this.prompt.style.color="#FFF",this.prompt.style.position="fixed",this.prompt.style.top="40%",this.prompt.style.left="50%",this.prompt.style.zIndex="19999",this.prompt.style.transform="translate3d(-50%,-50%,0)",this.prompt.style.padding="5px 10px",this.prompt.style.backgroundColor="#373737",this.prompt.style.borderRadius="5px",this.prompt.style.whiteSpace="normal",t.appendChild(this.prompt),this.load=document.createElement("div"),this.load.id="loadingToast",this.load.style.opacity="0",this.load.style.display="none";var n=document.createElement("div");n.className="weui-mask_transparent";var r=document.createElement("div");r.className="weui-toast";var i=document.createElement("i");i.className="weui-loading weui-icon_toast",this.load_p=document.createElement("p"),this.load_p.className="weui-toast__content",this.load_p.innerHTML="正在加载",r.appendChild(i),r.appendChild(this.load_p),this.load.appendChild(n),this.load.appendChild(r),t.appendChild(this.load),this.toast=document.createElement("div"),this.toast.id="toast",this.toast.style.opacity="0",this.toast.style.display="none";var a=document.createElement("div");a.className="weui-mask_transparent";var s=document.createElement("div");s.className="weui-toast";var l=document.createElement("i");l.className="weui-icon-success-no-circle weui-icon_toast",this.toast_p=document.createElement("p"),this.toast_p.className="weui-toast__content",this.toast_p.innerHTML="已完成",s.appendChild(l),s.appendChild(this.toast_p),this.toast.appendChild(a),this.toast.appendChild(s),t.appendChild(this.toast),this.timer="",console.log("message 构造成功...")}return _createClass(e,[{key:"prompt_show",value:function(e){var t=this;clearTimeout(this.timer),this.prompt.innerHTML=e,this.prompt.style.display="block",this.timer=setTimeout(function(){t.prompt.style.display="none"},1e3)}},{key:"load_show",value:function(e){this.load_p.innerHTML=e||"正在加载",this.load.style.opacity="1",this.load.style.display="block"}},{key:"load_hide",value:function(){this.load.style.opacity="0",this.load.style.display="none"}},{key:"toast_show",value:function(e){this.toast_p.innerHTML=e||"已完成",this.toast.style.opacity="1",this.toast.style.display="block"}}]),e}();e.exports=new r});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();_require.register("http",function(module,exports,_require,global){var message=_require("message"),Http=function(){function Http(){_classCallCheck(this,Http),this.onchange=function(xmlhttp,fun){xmlhttp.onreadystatechange=function(){if(4==this.readyState)if(global.__lockRemove(global.__lockNum(this.responseURL)),200==this.status)try{var response=eval("("+this.responseText+")");if(-2==response.code)return void(window.location.href="/sqb/reg");if(1!=response.code)return message.load_hide(),void message.prompt_show(response.msg||"抱歉!服务器异常");fun(response.result)}catch(e){fun(this.responseText)}else 504==this.status?(message.load_hide(),message.prompt_show("请求超时!")):(message.load_hide(),message.prompt_show("抱歉!服务器异常"))}},this.creathttp=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},this.objTOstr=function(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t=t.substr(0,t.length-1)}}return _createClass(Http,[{key:"get",value:function(e,t){if(global.__lockCheck(e)){global.__lockUrl.push(e);var n=this.creathttp();this.onchange(n,t),n.open("get",e,!0),n.send()}}},{key:"post",value:function(e,t,n){if(global.__lockCheck(e)){global.__lockUrl.push(e);var o=this.creathttp();this.onchange(o,n),o.open("post",e,!0),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t))}}},{key:"post_form",value:function(e,t,n){if(global.__lockCheck(e)){global.__lockUrl.push(e),t=this.objTOstr(t);var o=this.creathttp();this.onchange(o,n),o.open("post",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(t)}}},{key:"syncGet",value:function(e){var t=this.creathttp();return t.open("get",e,!1),t.send(),t.responseText}},{key:"syncPost",value:function(e,t){var n=this.creathttp();return n.open("post",e,!1),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t)),n.responseText}},{key:"syncPost_form",value:function(e,t){t=this.objTOstr(t);var n=this.creathttp();return n.open("post",e,!1),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t),n.responseText}},{key:"formatData",value:function(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t.substring(0,t.length-1)}}]),Http}();module.exports=new Http}),_require.register("fastclick",function(e,t,n,o){function r(e,t){var n;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,s=0,l=o.length;s<l;s++)i[o[s]]=function(e,t){return function(){return e.apply(t,arguments)}}(i[o[s]],i);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,o):r.call(e,t,n,o)},e.addEventListener=function(t,n,o){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):r.call(e,t,n,o)}),"function"==typeof e.onclick&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!i,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,l=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=s&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(s&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},r.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;s&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],s){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},r.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,n,o,r,i,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(i=e.changedTouches[0],u=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(o=u.tagName.toLowerCase())){if(t=this.findControl(u)){if(this.focus(u),a)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-n>100||s&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),s&&"select"===o||(this.targetElement=null,e.preventDefault()),!1);return!(!s||l||!(r=u.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},r.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},r.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,n,o;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},r.attach=function(e,t){return new r(e,t)},e.exports=r}),_require.register("keyboard",function(e,t,n,o){var r=n("message"),i=n("http");n("fastclick").attach(document.body);var a=function e(t){var n=this;_classCallCheck(this,e),this.value="",this.span=document.getElementById(t.spanId),this.input=document.getElementById(t.inputId),this.keyboard=document.getElementById(t.keyboardId);var o=function(e,t){for(var n=e.getAttribute(t);!n&&"keyboard"!=e.id;)e=e.parentNode,n=e.getAttribute(t);return n},a=function(e,t){var n="";if(""===e&&(e="0"),-1!=e.indexOf(".")){if(e.length-e.indexOf(".")>2)return e;if("."===t)return e}return n="0"===e&&"."!==t?t:e+t,n>=1e4&&(n=1e4,r.prompt_show("收款金额不能超过10000")),n},s=function(e){var t=e.target;"true"==t.getAttribute("touch")&&(t.style.backgroundColor="#f4f5f8")},l=function(e){var t=e.target;"true"==t.getAttribute("touch")&&(t.style.backgroundColor="#FFF");var s=n.input.value,l=o(t,"keyNum");if(l){var c=a(s,l);return n.input.value=c,void(n.span.innerHTML=c)}var u=function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(t){"get_brand_wcpay_request:cancel"==t.err_msg?console.log("取消支付"):"get_brand_wcpay_request:ok"==t.err_msg?window.location.href="/trade/success/"+e.orderId:alert(t.err_code+t.err_desc+t.err_msg)})},p=function(e){AlipayJSBridge.call("tradePay",{tradeNO:e.tradeNO},function(t){9e3!=t.resultCode&&8e3!=t.resultCode||(window.location.href="/trade/success/"+e.orderId)})},h=o(t,"keyCtrl");if(h)switch(h){case"delete":var d=s.substr(0,s.length-1);n.input.value=d,n.span.innerHTML=d;break;case"wx-pay":s>0?(r.load_show("正在支付"),i.post("/trade/scReceipt",{totalFee:s,payChannel:"801",memberId:pageData.memberId,merchantId:pageData.merchantId},function(e){i.post(e.payUrl,{},function(e){r.load_hide(),u(e)})})):r.prompt_show("请输入正确的支付金额");break;case"ali-pay":s>0?(r.load_show("正在支付"),i.post("/trade/scReceipt",{totalFee:s,payChannel:"802",memberId:pageData.memberId,merchantId:pageData.merchantId},function(e){i.post(e.payUrl,{},function(e){r.load_hide(),p(e)})})):r.prompt_show("请输入正确的支付金额")}};this.keyboard.addEventListener("touchstart",s),this.keyboard.addEventListener("touchend",l)};e.exports=a});
//# sourceMappingURL=vendor.2.0.1.1.min.js.map
