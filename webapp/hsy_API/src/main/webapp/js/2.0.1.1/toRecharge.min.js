"use strict";var browser=_require("browser");browser.elastic_touch("choose-box-body");var http=_require("http"),validate=_require("validate"),message=_require("message"),price=document.getElementById("price"),recharge=document.getElementById("recharge"),onWeixinJSBridge=function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(r){"get_brand_wcpay_request:cancel"==r.err_msg?console.log("取消支付"):"get_brand_wcpay_request:ok"==r.err_msg?window.location.href="/trade/success/"+e.orderId:alert(r.err_code+r.err_desc+r.err_msg)})};recharge.addEventListener("click",function(){price.value>0?(message.load_show("正在支付"),http.post_form("/membership/recharge",{type:pageData.type,source:pageData.source,mid:pageData.mid,amount:price.value},function(){http.post(data.payUrl,{},function(e){message.load_hide(),onWeixinJSBridge(e)})})):message.prompt_show("请输入正确的支付金额")});
//# sourceMappingURL=toRecharge.min.js.map
