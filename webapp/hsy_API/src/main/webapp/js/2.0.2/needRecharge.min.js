"use strict";var http=_require("http"),message=_require("message"),recharge=document.getElementById("recharge"),onWeixinJSBridge=function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(a){"get_brand_wcpay_request:cancel"==a.err_msg?console.log("取消支付"):"get_brand_wcpay_request:ok"==a.err_msg?window.location.href="/trade/success/"+e.orderId:alert(a.err_code+a.err_desc+a.err_msg)})},onAlipayJSBridge=function(e){AlipayJSBridge.call("tradePay",{tradeNO:e.tradeNO},function(a){9e3!=a.resultCode&&8e3!=a.resultCode||(window.location.href="/trade/success/"+e.orderId)})};recharge.addEventListener("click",function(){console.log(1),console.log(pageData.source);var e=pageData.source;if(e)switch(e){case"WX":message.load_show("正在支付"),http.post_form("/membership/recharge",{type:pageData.type,source:pageData.source,mid:pageData.mid},function(e){http.post(e.payUrl,{},function(e){message.load_hide(),onWeixinJSBridge(e)})});break;case"ZFB":message.load_show("正在支付"),http.post_form("/membership/recharge",{type:pageData.type,source:pageData.source,mid:pageData.mid},function(e){http.post(e.payUrl,{},function(e){message.load_hide(),onAlipayJSBridge(e)})})}});
//# sourceMappingURL=needRecharge.min.js.map
