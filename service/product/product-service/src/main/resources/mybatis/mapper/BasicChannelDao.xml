<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jkm.hss.product.dao.BasicChannelDao">
    <insert id="init" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO tb_basic_channel
        (account_id,
        channel_code,
        channel_short_name,
        channel_name,
        channel_type_sign,
        support_way,
        third_company,
        channel_source,
        basic_trade_rate,
        basic_withdraw_fee,
        basic_balance_type,
        basic_settle_type,
        limit_min_amount,
        limit_amount,
        is_need,
        channel_company,
        lowest_fee,
        is_use,
        is_hsy,
        is_special,
        remarks,
        status
        )VALUES(
        #{accountId},
        #{channelCode},
        #{channelShortName},
        #{channelName},
        #{channelTypeSign},
        #{supportWay},
        #{thirdCompany},
        #{channelSource},
        #{basicTradeRate},
        #{basicWithdrawFee},
        #{basicBalanceType},
        #{basicSettleType},
        #{limitMinAmount},
        #{limitAmount},
        #{isNeed},
        #{channelCompany},
        #{lowestFee},
        #{isUse},
        #{isHsy},
        #{isSpecial},
        #{remarks},
        #{status}
        )
    </insert>
    <update id="update">
        UPDATE tb_basic_channel
        SET account_id = #{accountId},
        channel_short_name = #{channelShortName},
        channel_name = #{channelName},
        check_type = #{checkType},
        channel_type_sign = #{channelTypeSign},
        support_way = #{supportWay},
        third_company = #{thirdCompany},
        channel_source = #{channelSource},
        basic_trade_rate = #{basicTradeRate},
        basic_withdraw_fee = #{basicWithdrawFee},
        basic_balance_type = #{basicBalanceType},
        basic_settle_type = #{basicSettleType},
        limit_min_amount = #{limitMinAmount},
        limit_amount=#{limitAmount},
        is_need=#{isNeed},
        channel_company=#{channelCompany},
        status = #{status},
        channel_code = #{channelCode},
        lowest_fee = #{lowestFee},
        is_use = #{isUse},
        remarks = #{remarks}
        WHERE id = #{id}
    </update>
    <select id="selectByChannelTypeSign" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE channel_type_sign = #{channelTypeSign} AND status = 2
    </select>
    <select id="selectByChannelSource" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE channel_source = #{channelSource} AND status = 2 limit 1
    </select>
    <select id="selectAll" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE status = 2;
    </select>

    <!-- 新增产品中添加通道 -->
    <!--<select id="selectListChannel" resultType="com.jkm.hss.product.entity.BasicChannel">-->
        <!--SELECT * FROM tb_basic_channel WHERE status = 2;-->
    <!--</select>-->

    <!-- 查询通道 -->
    <!--<select id="selectChannel" resultType="com.jkm.hss.product.entity.BasicChannel">-->
        <!--SELECT * FROM tb_basic_channel WHERE channel_type_sign=#{channelTypeSign} AND status = 2;-->
    <!--</select>-->

    <select id="selectById" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE id = #{id};
    </select>
    <select id="selectNewAll" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE channel_type_sign not in(101,102,103)
    </select>
    <select id="selectHsyAll" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT * FROM tb_basic_channel WHERE is_hsy=1 and status=2
    </select>
    <select id="selectParentChannelSign" resultType="com.jkm.hss.product.entity.BasicChannel">
        SELECT parent_channel_sign FROM tb_basic_channel WHERE channel_type_sign = #{channelSign}
    </select>
</mapper>